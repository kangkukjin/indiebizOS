# PC 관리 도구

## 목적

에이전트가 로컬 컴퓨터의 저장소를 분석하고 관리할 수 있게 합니다.
디스크 사용량 확인, 중복 파일 찾기, 정크 파일 정리 등을 도와줍니다.

## 이 도구가 제공하는 것

- **저장소 분석**: 디스크/폴더 사용량 분석
- **중복 파일 찾기**: 동일한 파일 탐지
- **정크 파일 찾기**: 캐시, 임시 파일 등 불필요한 파일 목록

## 설치 시 필요한 변경사항

### 1. 도구 함수 구현

**analyze_storage(path)**
- 지정 경로의 용량 분석
- 폴더별 사용량 반환
- 가장 큰 폴더/파일 표시

**find_duplicates(path)**
- 파일 해시로 중복 찾기
- 중복 파일 그룹 목록 반환
- 절약 가능 용량 계산

**find_junk(path)**
- 정크 파일 패턴 검색
- 캐시, 임시 파일, 로그 등
- 삭제 후보 목록 반환

### 2. 도구 정의

```json
{
  "name": "analyze_storage",
  "description": "디스크 또는 폴더의 용량 사용량을 분석합니다",
  "input_schema": {
    "type": "object",
    "properties": {
      "path": {"type": "string", "description": "분석할 경로 (기본: 홈 디렉토리)"},
      "depth": {"type": "integer", "description": "분석 깊이 (기본: 2)"}
    },
    "required": []
  }
}
```

### 3. 파일 시스템 접근

OS별로 접근 방식이 다를 수 있습니다.

Python 표준 라이브러리:
- `os.walk()`: 디렉토리 순회
- `os.path.getsize()`: 파일 크기
- `hashlib`: 파일 해시 (중복 검사)

주의사항:
- 시스템 폴더 접근 권한
- 심볼릭 링크 처리
- 숨김 파일 포함 여부

### 4. 정크 파일 패턴

일반적인 정크 파일:
```
캐시: **/cache/**, **/.cache/**
임시: **/tmp/**, **/*.tmp
로그: **/*.log
썸네일: **/.thumbnails/**
휴지통: **/.Trash/**, **/Trash/**
```

OS별 추가:
- macOS: ~/Library/Caches/, .DS_Store
- Windows: %TEMP%, Thumbs.db
- Linux: ~/.cache/

### 5. 안전 장치

**중요: 이 도구는 분석만 하고 삭제하지 않습니다.**

- 파일 삭제 기능 제공하지 않음
- 삭제 후보 목록만 제공
- 사용자가 직접 확인 후 삭제

만약 삭제 기능을 추가한다면:
- 휴지통으로 이동 (영구 삭제 X)
- 사용자 확인 필수
- 시스템 파일 보호

## 설계 고려사항

### 성능
- 대용량 디스크 스캔에 시간 소요
- 진행 상황 표시
- 캐싱 (이전 결과 재사용)

### 권한
- 시스템 폴더 접근 불가할 수 있음
- 권한 오류 무시하고 계속
- 접근 불가 폴더 알림

### 크로스 플랫폼
- macOS, Windows, Linux 대응
- 경로 구분자 처리
- OS별 정크 패턴

## 참고 구현

이 폴더의 `tool_pc.py`는 Python 표준 라이브러리 기반 예시입니다.

```
tool_pc.py
├── analyze_storage()
├── find_duplicates()
├── find_junk()
└── PC_TOOLS (도구 정의)
```

### 의존성
```bash
# 별도 설치 필요 없음 (Python 표준 라이브러리)
```

이 코드를 그대로 사용하지 말고, 현재 시스템에 맞게 구현하세요.

## 설치 완료 확인

- [ ] 에이전트가 도구를 호출할 수 있음
- [ ] 폴더 용량 분석 가능
- [ ] 중복 파일 찾기 가능
- [ ] 정크 파일 목록 확인 가능
- [ ] 시스템 파일은 건드리지 않음
