{
  "id": "android",
  "name": "Android Device Manager",
  "description": "ADB를 통한 안드로이드 기기 관리 도구 (SMS, 통화기록, 연락처, 앱 읽기/삭제 지원)",
  "version": "1.4.0",
  "tools": [
    {
      "name": "android_grant_permissions",
      "description": "ADB에 SMS, 통화기록, 연락처 읽기/쓰기 권한을 부여합니다.\n\n## 사용 시점 (중요!)\n- SMS, 통화기록, 연락처 조회가 빈 결과를 반환할 때\n- SMS, 통화기록, 연락처 삭제가 필요할 때\n- Android 10 이상 기기에서 처음 연결했을 때\n- 폰을 재시작한 후\n\n## 동작\n- appops를 사용하여 shell에 READ/WRITE_SMS, READ/WRITE_CALL_LOG, READ/WRITE_CONTACTS 권한 부여\n\n## 주의사항\n- 폰 재시작 시 권한이 초기화될 수 있음\n- USB 디버깅이 활성화되어 있어야 함",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID (생략시 첫 번째 기기)" }
        }
      }
    },
    {
      "name": "android_check_permissions",
      "description": "현재 ADB shell의 권한 상태를 확인합니다.\n\n## 반환 정보\n- READ/WRITE_SMS, READ/WRITE_CALL_LOG, READ/WRITE_CONTACTS 각각의 허용 여부\n- 읽기/쓰기 권한 상태 요약\n\n## 사용 시점\n- 권한 문제 진단\n- grant_permissions 실행 전후 상태 확인",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID (생략시 첫 번째 기기)" }
        }
      }
    },
    {
      "name": "android_list_devices",
      "description": "연결된 안드로이드 기기 목록을 확인합니다.\n\n## 사용 시점\n- 다른 android 도구 사용 전 기기 연결 상태 확인\n- 여러 기기 중 대상 기기 ID 확인\n- ADB 연결 문제 진단\n\n## 반환 정보\n- 기기 ID, 연결 상태, 모델명\n\n## 주의사항\n- USB 디버깅이 활성화되어 있어야 함\n- 기기가 표시되지 않으면 USB 케이블/설정 확인 필요",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "특정 기기 ID (생략시 전체 목록)" }
        }
      }
    },
    {
      "name": "android_device_info",
      "description": "기기의 상세 정보를 조회합니다.\n\n## 반환 정보\n- 모델명, 제조사, Android 버전\n- 빌드 번호, 시리얼 넘버\n\n## 사용 시점\n- 기기 사양 확인\n- 호환성 문제 진단",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID (생략시 첫 번째 기기)" }
        }
      }
    },
    {
      "name": "android_system_status",
      "description": "기기의 종합 상태를 확인합니다.\n\n## 반환 정보\n- 배터리 잔량 및 충전 상태\n- 기기 온도\n- 저장 공간 (전체/사용/여유)\n\n## 사용 시점\n- 기기 건강 상태 점검\n- 저장 공간 부족 진단\n- 배터리 상태 확인",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_list_apps",
      "description": "설치된 앱 목록을 조회합니다.\n\n## 반환 정보\n- 패키지명, 앱 이름\n- 시스템/사용자 앱 구분\n\n## 사용 시점\n- 설치된 앱 확인\n- 특정 앱 설치 여부 확인\n- 불필요한 앱 정리 전 목록 확인\n\n## 주의사항\n- third_party_only=false로 설정하면 시스템 앱도 포함 (목록이 길어짐)",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID" },
          "third_party_only": { "type": "boolean", "description": "사용자 설치 앱만 (기본: true)" }
        }
      }
    },
    {
      "name": "android_app_sizes",
      "description": "용량이 큰 앱을 순위별로 조회합니다.\n\n## 사용 시점\n- 저장 공간 정리가 필요할 때\n- 대용량 앱 파악\n\n## 반환 정보\n- 앱 이름, 패키지명, 용량",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID" },
          "limit": { "type": "integer", "description": "조회 개수 (기본: 20)" }
        }
      }
    },
    {
      "name": "android_app_usage",
      "description": "앱 사용량 통계를 조회합니다 (최근 24시간).\n\n## 반환 정보\n- 마지막 사용 시간\n- 총 사용 시간 (정확한 foreground 시간)\n- 세션 횟수 (앱을 몇 번 열었는지)\n\n## 사용 시점\n- 어떤 앱을 얼마나 쓰는지 확인\n- 안 쓰는 앱 파악하여 정리\n- 스크린 타임 분석",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_app_info",
      "description": "특정 앱의 상세 정보를 조회합니다.\n\n## 반환 정보\n- 버전, 설치 날짜, 마지막 업데이트\n- 앱 용량",
      "input_schema": {
        "type": "object",
        "properties": {
          "package_name": { "type": "string", "description": "앱 패키지명 (예: com.example.app)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["package_name"]
      }
    },
    {
      "name": "android_uninstall_app",
      "description": "앱을 삭제합니다.\n\n## 주의사항\n- 사용자가 설치한 앱만 삭제 가능\n- 시스템 앱은 삭제 불가\n- 삭제 후 복구 불가",
      "input_schema": {
        "type": "object",
        "properties": {
          "package_name": { "type": "string", "description": "삭제할 앱 패키지명" },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["package_name"]
      }
    },
    {
      "name": "android_apps_with_details",
      "description": "앱 목록과 상세 정보(용량, 사용량)를 함께 조회합니다.\n\n## 반환 정보\n- 패키지명, 용량, 마지막 사용 시간, 총 사용 시간\n\n## 사용 시점\n- 앱 정리 화면에서 전체 정보 표시",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID" },
          "limit": { "type": "integer", "description": "조회 개수 (기본: 50)" }
        }
      }
    },
    {
      "name": "android_capture_screen",
      "description": "현재 화면을 캡처합니다.\n\n## 사용 시점\n- 기기 화면 상태 확인\n- 오류 화면 기록\n- 원격 지원 시 화면 공유\n\n## 반환 정보\n- 저장된 스크린샷 파일 경로",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_send_text",
      "description": "텍스트를 기기로 전송합니다.\n\n## 사용 시점\n- PC에서 작성한 텍스트를 기기로 전송\n- 긴 URL이나 코드 전송\n- 클립보드 공유\n\n## 주의사항\n- 기기에서 텍스트 입력 필드가 활성화되어 있어야 함\n- 한글은 클립보드 방식으로 전송됨",
      "input_schema": {
        "type": "object",
        "properties": {
          "text": { "type": "string", "description": "전송할 텍스트" },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["text"]
      }
    },
    {
      "name": "android_notifications",
      "description": "현재 알림 목록을 읽습니다.\n\n## 반환 정보\n- 알림 제목, 내용, 앱 이름\n- 알림 시간\n\n## 사용 시점\n- 놓친 알림 확인\n- 기기 상태 원격 모니터링",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_push_file",
      "description": "PC에서 기기로 파일을 전송합니다.\n\n## 사용 시점\n- 문서, 이미지, 음악 등 파일 전송\n- APK 설치 파일 전송\n\n## 기본 저장 위치\n- /sdcard/Download/\n\n## 주의사항\n- 대용량 파일은 전송 시간이 걸릴 수 있음\n- 기기 저장 공간 확인 필요",
      "input_schema": {
        "type": "object",
        "properties": {
          "local_path": { "type": "string", "description": "PC의 파일 경로" },
          "remote_path": { "type": "string", "description": "기기 저장 경로 (기본: /sdcard/Download/)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["local_path"]
      }
    },
    {
      "name": "android_pull_file",
      "description": "기기에서 PC로 파일을 가져옵니다.\n\n## 사용 시점\n- 사진, 동영상 백업\n- 로그 파일 추출\n- 기기 데이터 PC로 이동\n\n## 주의사항\n- 대용량 파일은 전송 시간이 걸릴 수 있음\n- 일부 시스템 경로는 접근 제한될 수 있음",
      "input_schema": {
        "type": "object",
        "properties": {
          "remote_path": { "type": "string", "description": "기기 내 파일 경로" },
          "local_path": { "type": "string", "description": "PC 저장 경로 (생략시 자동)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["remote_path"]
      }
    },
    {
      "name": "android_get_sms",
      "description": "SMS 문자 목록을 조회합니다.\n\n## 반환 정보\n- 발신/수신 번호, 내용, 날짜, 읽음 여부",
      "input_schema": {
        "type": "object",
        "properties": {
          "box": { "type": "string", "description": "inbox(수신함), sent(발신함), all(전체)", "default": "inbox" },
          "limit": { "type": "integer", "description": "조회 개수 (기본: 50)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_send_sms",
      "description": "SMS 문자를 보냅니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "phone_number": { "type": "string", "description": "수신 전화번호" },
          "message": { "type": "string", "description": "보낼 메시지 내용" },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["phone_number", "message"]
      }
    },
    {
      "name": "android_delete_sms",
      "description": "SMS 문자를 삭제합니다 (단일 또는 조건부 일괄 삭제).\n\n## 삭제 방법\n- sms_id: 특정 메시지 1개 삭제\n- address: 특정 발신자의 모든 메시지 삭제\n- body_contains: 본문에 특정 문자열 포함된 메시지 삭제\n- before_date: 특정 날짜 이전 메시지 삭제\n- 여러 조건 조합 가능 (AND 조건)\n\n## 예시\n- 긴급재난문자 삭제: address=\"#CMAS#Severe\"\n- 광고 문자 삭제: body_contains=\"광고\"\n- 특정 번호의 배송 문자만: address=\"1588%\", body_contains=\"배송\"\n\n## 안전 기능\n- dry_run=true로 먼저 대상 확인 후 삭제 권장\n\n## 주의사항\n- 삭제 후 복구 불가\n- WRITE_SMS 권한 필요\n- SMS만 삭제 가능. MMS는 android_delete_messages 사용",
      "input_schema": {
        "type": "object",
        "properties": {
          "sms_id": { "type": "string", "description": "삭제할 SMS ID (단일 삭제)" },
          "address": { "type": "string", "description": "발신자 번호/이름 (일괄 삭제, %로 와일드카드 가능)" },
          "body_contains": { "type": "string", "description": "본문에 포함된 문자열 (일괄 삭제)" },
          "before_date": { "type": "string", "description": "이 날짜 이전 메시지 삭제 (YYYY-MM-DD)" },
          "dry_run": { "type": "boolean", "description": "true면 삭제 대상만 미리보기 (기본: false)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_delete_messages",
      "description": "SMS와 MMS를 ID 목록으로 일괄 삭제합니다.\n\n## 사용 시점\n- android_search_sms로 검색한 결과를 삭제할 때\n- SMS와 MMS를 함께 삭제할 때\n- 채팅+/RCS 메시지(MMS)를 삭제할 때\n\n## 삭제 방법\n- sms_ids: SMS ID 목록\n- mms_ids: MMS ID 목록\n- 둘 다 지정하면 한 번에 삭제\n\n## 주의사항\n- 삭제 후 복구 불가\n- android_search_sms 결과의 message_type으로 SMS/MMS 구분 가능",
      "input_schema": {
        "type": "object",
        "properties": {
          "sms_ids": { "type": "array", "items": { "type": "string" }, "description": "삭제할 SMS ID 목록" },
          "mms_ids": { "type": "array", "items": { "type": "string" }, "description": "삭제할 MMS ID 목록" },
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_delete_mms_by_content",
      "description": "SMS/MMS/RCS(채팅+) 메시지 개수 확인 및 조건부 삭제 (빠름, 2-3초).\n\n## 핵심 사용법\n1. 개수 확인: body_contains=\"검색어\", dry_run=true\n2. 실제 삭제: body_contains=\"검색어\", dry_run=false\n\n## 이 도구를 사용해야 하는 경우 (중요!)\n- \"Web발신 메시지 몇 개야?\" → 이 도구 사용\n- \"Web발신 메시지 삭제해줘\" → 이 도구 사용\n- SMS, MMS, RCS(삼성 채팅+) 모두 검색/삭제 가능!\n\n## 반환값\n- target_count: 전체 개수\n- sms_count, mms_count, rcs_count: 유형별 개수\n- deleted_count: 삭제된 개수 (dry_run=false일 때)\n\n## 주의사항\n- 삭제 후 복구 불가\n- dry_run=true가 기본값 (안전)",
      "input_schema": {
        "type": "object",
        "properties": {
          "body_contains": { "type": "string", "description": "본문에 포함된 문자열 (필수)" },
          "dry_run": { "type": "boolean", "description": "true면 삭제 대상만 미리보기 (기본: true)", "default": true },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["body_contains"]
      }
    },
    {
      "name": "android_search_sms",
      "description": "SMS/MMS/RCS(채팅+) 통합 검색하여 내용을 확인합니다.\n\n## 도구 선택 가이드\n- 개수만 확인하거나 삭제할 때 → android_delete_mms_by_content 사용 (더 빠름!)\n- 메시지 내용을 보고 싶을 때 → 이 도구 사용\n\n## 반환값\n- total: 전체 검색 결과 개수\n- sms_count, mms_count, rcs_count: 유형별 개수\n- message: 요약 메시지\n\n## 주의사항\n- limit 기본값 100\n- 결과가 많으면 느릴 수 있음 (4-5초)",
      "input_schema": {
        "type": "object",
        "properties": {
          "query": { "type": "string", "description": "검색어 (전화번호 또는 내용)" },
          "limit": { "type": "integer", "description": "검색 결과 개수 (기본: 30)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["query"]
      }
    },
    {
      "name": "android_get_mms",
      "description": "MMS 메시지 목록을 조회합니다.\n\n## MMS란?\n- 멀티미디어 메시지 서비스\n- 삼성 '채팅+' 앱에서 사용하는 RCS 메시지도 MMS로 저장됨\n- SMS보다 긴 문자, 이미지, 그룹 메시지 등\n\n## 사용 시점\n- android_get_sms로 조회되지 않는 최근 메시지가 있을 때\n- 채팅+ 앱의 메시지를 조회할 때\n\n## 반환 정보\n- 발신/수신 번호, 내용, 날짜",
      "input_schema": {
        "type": "object",
        "properties": {
          "box": { "type": "string", "description": "inbox(수신함), sent(발신함), all(전체)", "default": "inbox" },
          "limit": { "type": "integer", "description": "조회 개수 (기본: 50)" },
          "offset": { "type": "integer", "description": "건너뛸 개수 (기본: 0)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_get_all_messages",
      "description": "SMS와 MMS를 통합하여 조회합니다 (최신순 정렬).\n\n## 사용 시점\n- 모든 메시지를 한 번에 보고 싶을 때\n- 삼성 채팅+ 앱 메시지와 일반 SMS를 함께 보고 싶을 때\n\n## 반환 정보\n- 발신/수신 번호, 내용, 날짜\n- message_type: 'sms' 또는 'mms'로 구분\n- SMS 총 개수, MMS 총 개수 따로 표시",
      "input_schema": {
        "type": "object",
        "properties": {
          "box": { "type": "string", "description": "inbox(수신함), sent(발신함), all(전체)", "default": "inbox" },
          "limit": { "type": "integer", "description": "조회 개수 (기본: 50)" },
          "offset": { "type": "integer", "description": "건너뛸 개수 (기본: 0)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_make_call",
      "description": "전화를 겁니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "phone_number": { "type": "string", "description": "전화번호" },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["phone_number"]
      }
    },
    {
      "name": "android_end_call",
      "description": "현재 통화를 종료합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_get_call_log",
      "description": "통화 기록을 조회합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "call_type": { "type": "string", "description": "all(전체), incoming(수신), outgoing(발신), missed(부재중)", "default": "all" },
          "limit": { "type": "integer", "description": "조회 개수 (기본: 50)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_delete_call_log",
      "description": "통화 기록을 삭제합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "call_id": { "type": "string", "description": "삭제할 통화 기록 ID" },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["call_id"]
      }
    },
    {
      "name": "android_get_contacts",
      "description": "연락처 목록을 조회합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "limit": { "type": "integer", "description": "조회 개수 (기본: 100)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "android_search_contacts",
      "description": "연락처를 검색합니다 (이름 또는 번호).",
      "input_schema": {
        "type": "object",
        "properties": {
          "query": { "type": "string", "description": "검색어 (이름 또는 전화번호)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        },
        "required": ["query"]
      }
    },
    {
      "name": "android_delete_contact",
      "description": "연락처를 삭제합니다.\n\n## 사용 방법\n- contact_id 또는 phone_number 중 하나 필수\n- 전화번호로 삭제 시 해당 번호를 가진 연락처를 찾아 삭제\n\n## 주의사항\n- 삭제 후 복구 불가\n- WRITE_CONTACTS 권한 필요 (android_grant_permissions 먼저 실행)",
      "input_schema": {
        "type": "object",
        "properties": {
          "contact_id": { "type": "string", "description": "삭제할 연락처 ID" },
          "phone_number": { "type": "string", "description": "삭제할 연락처 전화번호 (contact_id 없을 때 사용)" },
          "device_id": { "type": "string", "description": "기기 ID" }
        }
      }
    },
    {
      "name": "open_android_manager",
      "description": "Android Manager 창을 엽니다. 전화, 문자, 연락처를 관리할 수 있는 UI가 열립니다. project_id를 전달하면 해당 프로젝트 에이전트와 대화할 수 있습니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "device_id": { "type": "string", "description": "기기 ID (생략시 첫 번째 기기)" },
          "project_id": { "type": "string", "description": "프로젝트 ID (전달시 해당 프로젝트 에이전트와 대화 가능)" }
        }
      }
    }
  ]
}
