{
  "id": "browser-action",
  "name": "Browser Action",
  "description": "Playwright MCP 스타일 브라우저 자동화 도구. Accessibility Snapshot 기반으로 페이지를 구조화하고, ref를 통해 정확한 요소 타겟팅을 수행합니다.",
  "version": "2.0.0",
  "tools": [
    {
      "name": "browser_navigate",
      "description": "브라우저를 열고 URL로 이동합니다. 모든 브라우저 자동화의 시작점입니다.\n\n## 반환값\n- title: 페이지 제목\n- url: 현재 URL\n- snapshot_hint: 다음 단계 안내\n\n## 다음 단계\n페이지 이동 후 browser_snapshot을 호출하여 페이지 구조를 파악하세요.\n\n## 작업 흐름\n1. browser_navigate → 페이지 열기\n2. browser_snapshot → 페이지 구조 파악 (ref 확인)\n3. browser_click/browser_type → ref로 상호작용\n4. browser_snapshot → 변경된 페이지 확인\n5. 반복...",
      "input_schema": {
        "type": "object",
        "properties": {
          "url": { "type": "string", "description": "이동할 URL (https:// 생략 가능)" },
          "headless": { "type": "boolean", "default": true, "description": "헤드리스 모드 (기본: true)" },
          "wait_for": { "type": "string", "enum": ["load", "domcontentloaded", "networkidle"], "default": "load", "description": "페이지 로드 대기 조건" }
        },
        "required": ["url"]
      }
    },
    {
      "name": "browser_navigate_back",
      "description": "브라우저 히스토리에서 이전 페이지로 이동합니다.\n\n## 반환값\n- title: 페이지 제목\n- url: 현재 URL",
      "input_schema": {
        "type": "object",
        "properties": {}
      }
    },
    {
      "name": "browser_navigate_forward",
      "description": "브라우저 히스토리에서 다음 페이지로 이동합니다.\n\n## 반환값\n- title: 페이지 제목\n- url: 현재 URL",
      "input_schema": {
        "type": "object",
        "properties": {}
      }
    },
    {
      "name": "browser_snapshot",
      "description": "현재 페이지의 Accessibility Snapshot을 캡처합니다. 스크린샷 대신 이 도구를 사용하세요.\n\n## 핵심 개념\n- 각 요소에 [ref=e1], [ref=e2] 같은 고유 ID가 부여됨\n- 이 ref를 browser_click, browser_type 등에서 사용\n- 비전 모델 없이 페이지 구조를 정확히 파악\n\n## 반환값\n- snapshot: 구조화된 페이지 요소 목록\n  - ref: 요소 참조 ID (예: e1, e2)\n  - role: 요소 역할 (button, link, textbox 등)\n  - name: 요소 이름/텍스트\n  - value: 입력값 (input 요소)\n  - focused: 포커스 여부\n  - disabled: 비활성화 여부\n- url: 현재 URL\n- title: 페이지 제목\n\n## 사용 시점\n- browser_navigate 후 페이지 구조 파악\n- browser_click/browser_type 전 ref 확인\n- 페이지 변경 후 상태 확인",
      "input_schema": {
        "type": "object",
        "properties": {
          "selector": { "type": "string", "description": "특정 영역만 스냅샷할 CSS 선택자 (기본: 전체 페이지)" }
        }
      }
    },
    {
      "name": "browser_click",
      "description": "페이지에서 요소를 클릭합니다. browser_snapshot에서 얻은 ref를 사용하세요.\n\n## 필수 파라미터\n- element: 클릭할 요소 설명 (사람이 읽을 수 있는 형태)\n- ref: browser_snapshot에서 얻은 요소 참조 ID\n\n## 반환값\n- clicked: 클릭한 요소 정보\n- url: 클릭 후 URL (네비게이션 발생 시 변경)\n- title: 클릭 후 페이지 제목\n\n## 예시\n```json\n{\"element\": \"로그인 버튼\", \"ref\": \"e5\"}\n```",
      "input_schema": {
        "type": "object",
        "properties": {
          "element": { "type": "string", "description": "클릭할 요소 설명 (예: '로그인 버튼', '검색 링크')" },
          "ref": { "type": "string", "description": "browser_snapshot에서 얻은 요소 ref (예: e1, e2)" }
        },
        "required": ["element", "ref"]
      }
    },
    {
      "name": "browser_type",
      "description": "입력 필드에 텍스트를 입력합니다. browser_snapshot에서 얻은 ref를 사용하세요.\n\n## 필수 파라미터\n- element: 입력 필드 설명\n- ref: browser_snapshot에서 얻은 요소 참조 ID\n- text: 입력할 텍스트\n\n## 옵션\n- submit: true면 입력 후 Enter 키 전송 (폼 제출)\n- clear: true면 기존 내용 삭제 후 입력\n\n## 예시\n```json\n{\"element\": \"검색 입력창\", \"ref\": \"e3\", \"text\": \"playwright\", \"submit\": true}\n```",
      "input_schema": {
        "type": "object",
        "properties": {
          "element": { "type": "string", "description": "입력 필드 설명 (예: '검색 입력창', '이메일 필드')" },
          "ref": { "type": "string", "description": "browser_snapshot에서 얻은 요소 ref" },
          "text": { "type": "string", "description": "입력할 텍스트" },
          "submit": { "type": "boolean", "default": false, "description": "입력 후 Enter 키 전송" },
          "clear": { "type": "boolean", "default": true, "description": "기존 내용 삭제 후 입력 (기본: true)" }
        },
        "required": ["element", "ref", "text"]
      }
    },
    {
      "name": "browser_select_option",
      "description": "드롭다운(select) 요소에서 옵션을 선택합니다.\n\n## 필수 파라미터\n- element: select 요소 설명\n- ref: browser_snapshot에서 얻은 요소 참조 ID\n- values: 선택할 값 배열\n\n## 예시\n```json\n{\"element\": \"국가 선택\", \"ref\": \"e7\", \"values\": [\"Korea\"]}\n```",
      "input_schema": {
        "type": "object",
        "properties": {
          "element": { "type": "string", "description": "select 요소 설명" },
          "ref": { "type": "string", "description": "browser_snapshot에서 얻은 요소 ref" },
          "values": {
            "type": "array",
            "items": { "type": "string" },
            "description": "선택할 옵션 값 배열"
          }
        },
        "required": ["element", "ref", "values"]
      }
    },
    {
      "name": "browser_hover",
      "description": "요소 위에 마우스를 올립니다 (hover). 드롭다운 메뉴 표시 등에 유용합니다.\n\n## 필수 파라미터\n- element: hover할 요소 설명\n- ref: browser_snapshot에서 얻은 요소 참조 ID",
      "input_schema": {
        "type": "object",
        "properties": {
          "element": { "type": "string", "description": "hover할 요소 설명" },
          "ref": { "type": "string", "description": "browser_snapshot에서 얻은 요소 ref" }
        },
        "required": ["element", "ref"]
      }
    },
    {
      "name": "browser_drag",
      "description": "요소를 드래그하여 다른 위치로 이동합니다.\n\n## 필수 파라미터\n- source_element: 드래그할 요소 설명\n- source_ref: 소스 요소의 ref\n- target_element: 드롭할 위치 요소 설명\n- target_ref: 타겟 요소의 ref",
      "input_schema": {
        "type": "object",
        "properties": {
          "source_element": { "type": "string", "description": "드래그할 요소 설명" },
          "source_ref": { "type": "string", "description": "소스 요소의 ref" },
          "target_element": { "type": "string", "description": "드롭할 위치 요소 설명" },
          "target_ref": { "type": "string", "description": "타겟 요소의 ref" }
        },
        "required": ["source_element", "source_ref", "target_element", "target_ref"]
      }
    },
    {
      "name": "browser_press_key",
      "description": "키보드 키를 누릅니다.\n\n## key 예시\n- 일반 키: Enter, Tab, Escape, Backspace, Delete\n- 방향키: ArrowUp, ArrowDown, ArrowLeft, ArrowRight\n- 조합키: Control+a, Control+c, Control+v, Alt+F4\n- 특수키: F1-F12, Home, End, PageUp, PageDown",
      "input_schema": {
        "type": "object",
        "properties": {
          "key": { "type": "string", "description": "누를 키 (예: Enter, Tab, Control+a)" }
        },
        "required": ["key"]
      }
    },
    {
      "name": "browser_scroll",
      "description": "페이지를 스크롤합니다.\n\n## 사용법\n- direction + amount: 지정 방향으로 지정량만큼 스크롤\n- to_bottom: 페이지 맨 아래로\n- to_top: 페이지 맨 위로\n\n## 반환값\n- scroll_position: 현재 스크롤 Y 위치 (px)\n- page_height: 전체 페이지 높이\n- viewport_height: 화면 높이",
      "input_schema": {
        "type": "object",
        "properties": {
          "direction": { "type": "string", "enum": ["down", "up"], "default": "down", "description": "스크롤 방향" },
          "amount": { "type": "integer", "default": 500, "description": "스크롤량 (픽셀)" },
          "to_bottom": { "type": "boolean", "default": false, "description": "페이지 끝까지 스크롤" },
          "to_top": { "type": "boolean", "default": false, "description": "페이지 맨 위로 스크롤" }
        }
      }
    },
    {
      "name": "browser_wait_for",
      "description": "특정 조건이 충족될 때까지 대기합니다.\n\n## 대기 조건 (하나 선택)\n- selector: CSS 선택자로 지정된 요소가 나타날 때까지\n- text: 특정 텍스트가 페이지에 나타날 때까지\n- url: URL이 특정 패턴과 일치할 때까지\n- timeout: 지정된 시간(ms)만큼 대기",
      "input_schema": {
        "type": "object",
        "properties": {
          "selector": { "type": "string", "description": "대기할 요소의 CSS 선택자" },
          "text": { "type": "string", "description": "대기할 텍스트" },
          "url": { "type": "string", "description": "대기할 URL 패턴 (정규식)" },
          "timeout": { "type": "integer", "default": 30000, "description": "최대 대기 시간 (ms, 기본: 30초)" }
        }
      }
    },
    {
      "name": "browser_screenshot",
      "description": "현재 페이지의 스크린샷을 PNG 파일로 저장합니다.\n\n## 참고\n- 일반적인 상호작용에는 browser_snapshot이 더 효율적입니다.\n- 스크린샷은 시각적 확인이 필요할 때만 사용하세요.\n\n## 반환값\n- file_path: 저장된 스크린샷 절대 경로",
      "input_schema": {
        "type": "object",
        "properties": {
          "full_page": { "type": "boolean", "default": false, "description": "전체 페이지 캡처" },
          "selector": { "type": "string", "description": "특정 요소만 캡처할 CSS 선택자" }
        }
      }
    },
    {
      "name": "browser_get_content",
      "description": "현재 페이지의 텍스트 내용을 추출합니다.\n\n## browser_snapshot과 차이\n- browser_snapshot: 상호작용 가능한 요소 구조 (ref 포함)\n- browser_get_content: 페이지 전체 텍스트 (읽기 전용)",
      "input_schema": {
        "type": "object",
        "properties": {
          "selector": { "type": "string", "description": "특정 영역만 추출할 CSS 선택자" },
          "max_length": { "type": "integer", "default": 10000, "description": "최대 텍스트 길이" }
        }
      }
    },
    {
      "name": "browser_console_logs",
      "description": "브라우저 콘솔 로그를 조회합니다.\n\n## 반환값\n- logs: 콘솔 로그 배열\n  - type: 로그 타입 (log, error, warning, info)\n  - text: 로그 내용\n  - timestamp: 발생 시간\n\n## 옵션\n- type: 특정 타입만 필터링\n- search: 텍스트 검색\n- clear: 조회 후 로그 삭제",
      "input_schema": {
        "type": "object",
        "properties": {
          "type": { "type": "string", "enum": ["all", "log", "error", "warning", "info"], "default": "all", "description": "로그 타입 필터" },
          "search": { "type": "string", "description": "검색할 텍스트" },
          "limit": { "type": "integer", "default": 100, "description": "최대 로그 수" },
          "clear": { "type": "boolean", "default": false, "description": "조회 후 로그 삭제" }
        }
      }
    },
    {
      "name": "browser_save_pdf",
      "description": "현재 페이지를 PDF 파일로 저장합니다.\n\n## 반환값\n- file_path: 저장된 PDF 절대 경로\n\n## 옵션\n- format: 용지 크기 (A4, Letter 등)\n- landscape: 가로 방향 여부",
      "input_schema": {
        "type": "object",
        "properties": {
          "format": { "type": "string", "enum": ["A4", "Letter", "Legal", "A3"], "default": "A4", "description": "용지 크기" },
          "landscape": { "type": "boolean", "default": false, "description": "가로 방향" },
          "print_background": { "type": "boolean", "default": true, "description": "배경 인쇄" }
        }
      }
    },
    {
      "name": "browser_evaluate",
      "description": "현재 페이지에서 JavaScript 코드를 실행합니다.\n\n## 사용 시점\n- 페이지의 JavaScript 변수 값 확인\n- DOM 조작 (요소 추가/변경/삭제)\n- localStorage, cookie 확인\n- 복잡한 데이터 추출\n\n## 주의\n- 반환값은 JSON 직렬화 가능해야 함",
      "input_schema": {
        "type": "object",
        "properties": {
          "expression": { "type": "string", "description": "실행할 JavaScript 표현식" }
        },
        "required": ["expression"]
      }
    },
    {
      "name": "browser_close",
      "description": "브라우저 세션을 종료합니다.\n\n60초간 비활성 시 자동 종료되므로 수동 호출은 선택사항입니다.",
      "input_schema": {
        "type": "object",
        "properties": {}
      }
    }
  ]
}
