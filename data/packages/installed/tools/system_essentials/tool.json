{
  "id": "system_essentials",
  "name": "System Essentials Kit",
  "description": "파일/시스템 기본 도구",
  "version": "1.1.0",
  "author": "System AI",
  "tools": [
    {
      "name": "read_file",
      "description": "파일 내용을 읽습니다.\n\n사용법:\n- 절대 경로 또는 상대 경로 모두 사용 가능\n- 기본적으로 전체 파일 내용 반환\n- 이미지 파일(PNG, JPG 등)도 읽을 수 있음\n\n주의사항:\n- 수정하려는 파일은 반드시 먼저 read_file로 읽어야 함\n- 대용량 파일(1MB 이상)은 결과가 잘릴 수 있음\n- 디렉토리는 읽을 수 없음 - list_directory 사용",
      "input_schema": {
        "type": "object",
        "properties": {
          "file_path": { "type": "string", "description": "읽을 파일의 경로 (절대/상대)" }
        },
        "required": ["file_path"]
      }
    },
    {
      "name": "write_file",
      "description": "파일에 내용을 씁니다 (기존 파일 덮어쓰기).\n\n사용법:\n- 새 파일 생성 또는 기존 파일 완전 교체\n- 디렉토리가 없으면 자동 생성\n\n주의사항:\n- 기존 파일 수정 시 반드시 먼저 read_file로 읽어야 함\n- 부분 수정은 edit_file 사용 권장 (전체 재작성 불필요)\n- 꼭 필요한 경우에만 파일 생성 - 기존 파일 편집 우선",
      "input_schema": {
        "type": "object",
        "properties": {
          "file_path": { "type": "string", "description": "파일 경로" },
          "content": { "type": "string", "description": "기록할 전체 내용" }
        },
        "required": ["file_path", "content"]
      }
    },
    {
      "name": "list_directory",
      "description": "디렉토리의 파일/폴더 목록을 조회합니다.\n\n사용법:\n- 지정된 디렉토리의 직속 항목만 반환 (재귀 아님)\n- 파일/폴더 구분하여 표시\n\n주의사항:\n- 재귀적 탐색이 필요하면 glob_files 사용 (예: '**/*')\n- run_command로 'ls -R' 사용 금지 - 대용량 출력으로 토큰 초과 위험\n- 파일 내용 검색은 grep_files 사용",
      "input_schema": {
        "type": "object",
        "properties": {
          "dir_path": { "type": "string", "description": "디렉토리 경로 (기본: 현재 작업 디렉토리)" }
        }
      }
    },
    {
      "name": "grep_files",
      "description": "파일 내용에서 텍스트/패턴을 검색합니다.\n\n사용법:\n- 매칭되는 라인과 라인 번호 반환\n- 정규표현식 지원 (regex=true)\n- 파일 패턴으로 검색 범위 제한 가능\n\n사용 예시:\n- 함수 정의 찾기: pattern='def my_function', file_pattern='*.py'\n- 클래스 찾기: pattern='class.*Manager', regex=true\n- 특정 문자열 검색: pattern='TODO', root_path='./src'\n\n주의사항:\n- run_command로 grep/rg 사용 대신 이 도구 사용\n- 결과가 많을 수 있으니 file_pattern으로 범위 제한 권장",
      "input_schema": {
        "type": "object",
        "properties": {
          "pattern": { "type": "string", "description": "검색할 텍스트 또는 정규표현식" },
          "file_pattern": { "type": "string", "description": "파일 패턴 (예: '*.py', '*.js')" },
          "root_path": { "type": "string", "description": "검색 시작 경로" },
          "regex": { "type": "boolean", "description": "정규표현식 모드 (기본: false)" }
        },
        "required": ["pattern"]
      }
    },
    {
      "name": "get_current_time",
      "description": "현재 날짜와 시간을 조회합니다.\n\n사용법:\n- 파라미터 없이 호출하면 기본 포맷으로 반환\n- 커스텀 포맷 지정 가능",
      "input_schema": {
        "type": "object",
        "properties": {
          "format": { "type": "string", "description": "시간 포맷 (기본: %Y-%m-%d %H:%M:%S)" }
        }
      }
    },
    {
      "name": "run_command",
      "description": "쉘 명령어를 실행합니다.\n\n주의사항 - 반드시 읽으세요:\n1. 파일/디렉토리 작업은 전용 도구 사용:\n   - 디렉토리 목록: list_directory (ls 대신)\n   - 파일 검색: glob_files (find 대신)\n   - 내용 검색: grep_files (grep/rg 대신)\n   - 파일 읽기: read_file (cat/head/tail 대신)\n   - 파일 쓰기: write_file (echo > 대신)\n   - 파일 수정: edit_file (sed/awk 대신)\n\n2. 금지된 명령어 (대용량 출력 위험):\n   - ls -R, ls -la -R (재귀 목록)\n   - find / (루트 검색)\n   - cat 대용량파일\n   - 출력 제한 없는 검색 명령\n\n3. 위험 명령은 approved=true 필요:\n   - rm, rmdir (삭제)\n   - sudo (권한 상승)\n   - chmod, chown (권한 변경)\n\n적합한 사용 예:\n- git 명령어 (git status, git log --oneline -10)\n- 패키지 관리 (npm install, pip install)\n- 빌드/테스트 (npm run build, pytest)\n- 프로세스 관리 (ps, kill)",
      "input_schema": {
        "type": "object",
        "properties": {
          "command": { "type": "string", "description": "실행할 쉘 명령어" },
          "timeout": { "type": "number", "description": "제한시간 초 (기본: 60, 최대: 300)" },
          "approved": { "type": "boolean", "description": "위험 명령 승인 (rm, sudo 등)" }
        },
        "required": ["command"]
      }
    },
    {
      "name": "glob_files",
      "description": "glob 패턴으로 파일을 검색합니다.\n\n사용법:\n- 패턴 매칭으로 파일 경로 목록 반환\n- 재귀 검색 지원 ('**' 패턴)\n\n패턴 예시:\n- '*.py': 현재 디렉토리의 Python 파일\n- '**/*.py': 모든 하위 디렉토리의 Python 파일\n- 'src/**/*.{js,ts}': src 하위의 JS/TS 파일\n- '**/test_*.py': 모든 테스트 파일\n\n주의사항:\n- run_command로 find 사용 대신 이 도구 사용\n- 결과가 많을 수 있으니 패턴을 구체적으로 지정",
      "input_schema": {
        "type": "object",
        "properties": {
          "pattern": { "type": "string", "description": "glob 패턴 (예: '**/*.py')" },
          "root_path": { "type": "string", "description": "검색 시작 경로" }
        },
        "required": ["pattern"]
      }
    },
    {
      "name": "edit_file",
      "description": "파일의 특정 부분을 수정합니다 (문자열 교체).\n\n사용법:\n- old_string을 new_string으로 교체\n- 파일 전체를 다시 쓰지 않고 정확한 위치만 수정\n\n주의사항:\n- 반드시 먼저 read_file로 파일 내용을 확인해야 함\n- old_string은 파일 내에서 고유해야 함 (중복되면 실패)\n- 중복되는 경우 더 많은 컨텍스트(주변 코드)를 포함\n- 들여쓰기(탭/스페이스)를 정확히 맞춰야 함\n- write_file보다 이 도구 사용 권장 (부분 수정에 적합)",
      "input_schema": {
        "type": "object",
        "properties": {
          "file_path": { "type": "string", "description": "파일 경로" },
          "old_string": { "type": "string", "description": "교체할 기존 문자열 (파일 내 고유해야 함)" },
          "new_string": { "type": "string", "description": "새 문자열" }
        },
        "required": ["file_path", "old_string", "new_string"]
      }
    },
    {
      "name": "open_in_browser",
      "description": "URL 또는 파일을 기본 브라우저에서 엽니다.\n\n사용법:\n- 웹 URL: 'https://example.com'\n- 로컬 파일: '/path/to/file.html'\n\n사용 예시:\n- 문서 페이지 열기\n- 생성한 HTML 파일 미리보기\n- API 문서 참조",
      "input_schema": {
        "type": "object",
        "properties": {
          "path": { "type": "string", "description": "URL 또는 파일 경로" }
        },
        "required": ["path"]
      }
    },
    {
      "name": "todo_write",
      "description": "작업 목록을 생성하고 관리합니다. 진행 상황을 추적하고 복잡한 작업을 체계적으로 관리합니다.\n\n## 중요: 유일한 todo 도구\n이 도구가 todo 관련 유일한 도구입니다.\n- 항목 추가: 기존 목록 + 새 항목으로 전체 목록 작성\n- 상태 변경: 해당 항목의 status만 바꿔서 전체 목록 다시 작성\n- 항목 삭제: 해당 항목 제외하고 전체 목록 다시 작성\n\n## 사용 시점\n1. 복잡한 다단계 작업 (3개 이상의 구분된 단계)\n2. 사용자가 여러 작업을 요청한 경우 (번호 목록, 쉼표로 구분)\n3. 신중한 계획이 필요한 비단순 작업\n\n## 사용하지 않을 때\n1. 단일하고 직접적인 작업\n2. 추적해도 조직적 이점이 없는 사소한 작업\n3. 3단계 미만의 사소한 단계로 완료 가능한 작업\n4. 순수한 대화나 정보 요청\n\n참고: 사소한 단일 작업만 있다면 이 도구를 사용하지 마세요.\n\n## 상태 관리\n- pending: 대기 중\n- in_progress: 진행 중 (한 번에 하나만)\n- completed: 완료\n\n작업 완료 시 상태를 completed로 표시하세요.",
      "input_schema": {
        "type": "object",
        "properties": {
          "todos": {
            "type": "array",
            "description": "작업 목록",
            "items": {
              "type": "object",
              "properties": {
                "content": { "type": "string", "description": "작업 내용 (명령형: '테스트 실행')" },
                "status": { "type": "string", "enum": ["pending", "in_progress", "completed"], "description": "상태" },
                "activeForm": { "type": "string", "description": "진행 중 표시 (현재형: '테스트 실행 중')" }
              },
              "required": ["content", "status", "activeForm"]
            }
          }
        },
        "required": ["todos"]
      }
    },
    {
      "name": "ask_user_question",
      "description": "실행 중 사용자에게 질문이 필요할 때 사용합니다.\n\n## 사용 시점\n1. 사용자 선호도나 요구사항 파악\n2. 모호한 지시 명확화\n3. 구현 방식 선택 필요\n4. 진행 방향에 대한 사용자 의견 필요\n\n## 사용하지 않을 때\n1. 이미 충분한 정보가 있는 경우\n2. 합리적인 기본 선택이 명확한 경우\n3. 사용자가 이미 명시적 지시를 한 경우\n\n## 사용법\n- 2-4개의 선택지 제공\n- 권장 옵션은 첫 번째에 배치하고 '(권장)' 표시\n- multiSelect=true로 복수 선택 허용 가능\n- 사용자는 항상 '기타'로 직접 입력 가능\n\n참고: 플랜 모드에서는 요구사항 명확화에 사용하고, '계획 진행할까요?'는 exit_plan_mode 사용",
      "input_schema": {
        "type": "object",
        "properties": {
          "questions": {
            "type": "array",
            "description": "질문 목록 (1-4개)",
            "items": {
              "type": "object",
              "properties": {
                "question": { "type": "string", "description": "질문 내용" },
                "header": { "type": "string", "description": "짧은 라벨 (최대 12자)" },
                "options": {
                  "type": "array",
                  "description": "선택지 (2-4개)",
                  "items": {
                    "type": "object",
                    "properties": {
                      "label": { "type": "string", "description": "선택지 텍스트" },
                      "description": { "type": "string", "description": "선택지 설명" }
                    },
                    "required": ["label", "description"]
                  }
                },
                "multiSelect": { "type": "boolean", "description": "복수 선택 허용 (기본 false)" }
              },
              "required": ["question", "header", "options"]
            }
          }
        },
        "required": ["questions"]
      }
    },
    {
      "name": "enter_plan_mode",
      "description": "비단순 구현 작업 전 계획 모드로 전환합니다. 코드 작성 전 사용자 동의를 구하는 용도입니다.\n\n## 사용 고려 상황\n단순하지 않은 구현 작업에서 사용을 고려하세요:\n1. 새 기능 구현 - 배치 위치, 클릭 시 동작 등 결정 필요\n2. 여러 접근 방식 가능 - 캐싱 방식, 성능 개선 전략 등\n3. 기존 동작/구조 변경 - 무엇이 바뀌어야 하는지 명확화\n4. 아키텍처 결정 - WebSocket vs SSE, 상태 관리 방식 등\n5. 다중 파일 변경 (2-3개 초과)\n6. 요구사항 탐색 필요 - 먼저 파악 후 범위 이해\n7. 사용자 선호도 중요 - 여러 방향 가능\n\n## 사용하지 않을 때\n단순한 작업은 바로 진행:\n- 한두 줄 수정 (오타, 명확한 버그, 작은 조정)\n- 명확한 요구사항의 단일 함수 추가\n- 사용자가 상세한 구체적 지시를 한 경우\n- 순수 조사/탐색 작업 (구현 계획이 아님)\n\n## 계획 모드에서 할 일\n1. glob_files, grep_files, read_file로 코드베이스 탐색\n2. 기존 패턴과 아키텍처 이해\n3. 구현 방안 설계\n4. 접근 방식 명확화 필요시 ask_user_question 사용\n5. 구현 준비 완료시 exit_plan_mode로 승인 요청\n\n참고: 이 도구는 사용자 승인이 필요합니다 - 계획 모드 진입에 동의해야 합니다.",
      "input_schema": {
        "type": "object",
        "properties": {}
      }
    },
    {
      "name": "exit_plan_mode",
      "description": "계획 파일 작성 완료 후 사용자 승인을 요청합니다.\n\n## 이 도구의 동작\n- 계획 파일에서 내용을 읽어 사용자에게 표시\n- 계획 내용을 파라미터로 받지 않음\n- 사용자가 계획을 검토하고 승인/수정 요청\n\n## 사용 시점\n코드 구현이 필요한 계획이 완료되었을 때만 사용:\n- 계획이 완성되고 명확할 때\n- 구현할 준비가 되었을 때\n\n## 사용하지 않을 때\n- 요구사항이나 접근 방식에 미해결 질문이 있으면 ask_user_question 먼저 사용\n- 조사/탐색 작업 - 구현 계획이 아니면 이 도구 불필요\n\n중요: '이 계획 괜찮나요?', '진행할까요?'를 ask_user_question으로 묻지 마세요 - 그것이 바로 이 도구의 역할입니다.",
      "input_schema": {
        "type": "object",
        "properties": {}
      }
    },
    {
      "name": "get_neighbors",
      "description": "이웃(연락처) 목록을 조회합니다.\n\n반환 정보:\n- id: 이웃 ID\n- name: 이름\n- info_level: 정보 공개 레벨 (0-4)\n- rating: 평가 (0-5)\n- favorite: 즐겨찾기 여부\n\n사용 예시:\n- 모든 이웃 목록: get_neighbors()\n- 이름 검색: get_neighbors(search='홍길동')\n- 레벨별 필터: get_neighbors(info_level=2)",
      "input_schema": {
        "type": "object",
        "properties": {
          "search": { "type": "string", "description": "이름으로 검색 (부분 일치)" },
          "info_level": { "type": "integer", "description": "정보 공개 레벨로 필터링 (0-4)" }
        }
      }
    },
    {
      "name": "get_neighbor_detail",
      "description": "특정 이웃의 상세 정보를 조회합니다.\n\n반환 정보:\n- 기본 정보: id, name, info_level, rating, favorite\n- 연락처 목록: contacts (email, phone, telegram, nostr 등)\n- 추가 정보: additional_info (메모)\n- 비즈니스 문서: business_doc (이웃별 비즈니스 정보)\n- 최근 메시지: recent_messages (최근 5개)\n\n사용법:\n- ID로 조회: get_neighbor_detail(neighbor_id=1)\n- 이름으로 조회: get_neighbor_detail(name='홍길동')",
      "input_schema": {
        "type": "object",
        "properties": {
          "neighbor_id": { "type": "integer", "description": "이웃 ID" },
          "name": { "type": "string", "description": "이웃 이름 (정확히 일치)" }
        }
      }
    }
  ]
}
