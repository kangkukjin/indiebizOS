{
  "id": "system_essentials",
  "name": "System Essentials Kit",
  "description": "파일/시스템 기본 도구",
  "version": "1.1.0",
  "author": "System AI",
  "tools": [
    {
      "name": "read_file",
      "description": "파일 내용을 읽습니다.\n\n사용법:\n- 절대 경로 또는 상대 경로 모두 사용 가능\n- 기본적으로 전체 파일 내용 반환\n- 이미지 파일(PNG, JPG 등)도 읽을 수 있음\n\n주의사항:\n- 수정하려는 파일은 반드시 먼저 read_file로 읽어야 함\n- 대용량 파일(1MB 이상)은 결과가 잘릴 수 있음\n- 디렉토리는 읽을 수 없음 - list_directory 사용",
      "input_schema": {
        "type": "object",
        "properties": {
          "file_path": { "type": "string", "description": "읽을 파일의 경로 (절대/상대)" }
        },
        "required": ["file_path"]
      }
    },
    {
      "name": "write_file",
      "description": "파일에 내용을 씁니다 (기존 파일 덮어쓰기).\n\n사용법:\n- 새 파일 생성 또는 기존 파일 완전 교체\n- 디렉토리가 없으면 자동 생성\n\n주의사항:\n- 기존 파일 수정 시 반드시 먼저 read_file로 읽어야 함\n- 부분 수정은 edit_file 사용 권장 (전체 재작성 불필요)\n- 꼭 필요한 경우에만 파일 생성 - 기존 파일 편집 우선",
      "input_schema": {
        "type": "object",
        "properties": {
          "file_path": { "type": "string", "description": "파일 경로" },
          "content": { "type": "string", "description": "기록할 전체 내용" }
        },
        "required": ["file_path", "content"]
      }
    },
    {
      "name": "list_directory",
      "description": "디렉토리의 파일/폴더 목록을 조회합니다.\n\n사용법:\n- 지정된 디렉토리의 직속 항목만 반환 (재귀 아님)\n- 파일/폴더 구분하여 표시\n\n주의사항:\n- 재귀적 탐색이 필요하면 glob_files 사용 (예: '**/*')\n- run_command로 'ls -R' 사용 금지 - 대용량 출력으로 토큰 초과 위험\n- 파일 내용 검색은 grep_files 사용",
      "input_schema": {
        "type": "object",
        "properties": {
          "dir_path": { "type": "string", "description": "디렉토리 경로 (기본: 현재 작업 디렉토리)" }
        }
      }
    },
    {
      "name": "grep_files",
      "description": "파일 내용에서 텍스트/패턴을 검색합니다.\n\n사용법:\n- 매칭되는 라인과 라인 번호 반환\n- 정규표현식 지원 (regex=true)\n- 파일 패턴으로 검색 범위 제한 가능\n\n사용 예시:\n- 함수 정의 찾기: pattern='def my_function', file_pattern='*.py'\n- 클래스 찾기: pattern='class.*Manager', regex=true\n- 특정 문자열 검색: pattern='TODO', root_path='./src'\n\n주의사항:\n- run_command로 grep/rg 사용 대신 이 도구 사용\n- 결과가 많을 수 있으니 file_pattern으로 범위 제한 권장",
      "input_schema": {
        "type": "object",
        "properties": {
          "pattern": { "type": "string", "description": "검색할 텍스트 또는 정규표현식" },
          "file_pattern": { "type": "string", "description": "파일 패턴 (예: '*.py', '*.js')" },
          "root_path": { "type": "string", "description": "검색 시작 경로" },
          "regex": { "type": "boolean", "description": "정규표현식 모드 (기본: false)" }
        },
        "required": ["pattern"]
      }
    },
    {
      "name": "get_current_time",
      "description": "현재 날짜와 시간을 조회합니다.\n\n사용법:\n- 파라미터 없이 호출하면 기본 포맷으로 반환\n- 커스텀 포맷 지정 가능",
      "input_schema": {
        "type": "object",
        "properties": {
          "format": { "type": "string", "description": "시간 포맷 (기본: %Y-%m-%d %H:%M:%S)" }
        }
      }
    },
    {
      "name": "run_command",
      "description": "쉘 명령어를 실행합니다.\n\n주의사항 - 반드시 읽으세요:\n1. 파일/디렉토리 작업은 전용 도구 사용:\n   - 디렉토리 목록: list_directory (ls 대신)\n   - 파일 검색: glob_files (find 대신)\n   - 내용 검색: grep_files (grep/rg 대신)\n   - 파일 읽기: read_file (cat/head/tail 대신)\n   - 파일 쓰기: write_file (echo > 대신)\n   - 파일 수정: edit_file (sed/awk 대신)\n\n2. 금지된 명령어 (대용량 출력 위험):\n   - ls -R, ls -la -R (재귀 목록)\n   - find / (루트 검색)\n   - cat 대용량파일\n   - 출력 제한 없는 검색 명령\n\n3. 위험 명령은 approved=true 필요:\n   - rm, rmdir (삭제)\n   - sudo (권한 상승)\n   - chmod, chown (권한 변경)\n\n적합한 사용 예:\n- git 명령어 (git status, git log --oneline -10)\n- 패키지 관리 (npm install, pip install)\n- 빌드/테스트 (npm run build, pytest)\n- 프로세스 관리 (ps, kill)",
      "input_schema": {
        "type": "object",
        "properties": {
          "command": { "type": "string", "description": "실행할 쉘 명령어" },
          "timeout": { "type": "number", "description": "제한시간 초 (기본: 60, 최대: 300)" },
          "approved": { "type": "boolean", "description": "위험 명령 승인 (rm, sudo 등)" }
        },
        "required": ["command"]
      }
    },
    {
      "name": "glob_files",
      "description": "glob 패턴으로 파일을 검색합니다.\n\n사용법:\n- 패턴 매칭으로 파일 경로 목록 반환\n- 재귀 검색 지원 ('**' 패턴)\n\n패턴 예시:\n- '*.py': 현재 디렉토리의 Python 파일\n- '**/*.py': 모든 하위 디렉토리의 Python 파일\n- 'src/**/*.{js,ts}': src 하위의 JS/TS 파일\n- '**/test_*.py': 모든 테스트 파일\n\n주의사항:\n- run_command로 find 사용 대신 이 도구 사용\n- 결과가 많을 수 있으니 패턴을 구체적으로 지정",
      "input_schema": {
        "type": "object",
        "properties": {
          "pattern": { "type": "string", "description": "glob 패턴 (예: '**/*.py')" },
          "root_path": { "type": "string", "description": "검색 시작 경로" }
        },
        "required": ["pattern"]
      }
    },
    {
      "name": "edit_file",
      "description": "파일의 특정 부분을 수정합니다 (문자열 교체).\n\n사용법:\n- old_string을 new_string으로 교체\n- 파일 전체를 다시 쓰지 않고 정확한 위치만 수정\n\n주의사항:\n- 반드시 먼저 read_file로 파일 내용을 확인해야 함\n- old_string은 파일 내에서 고유해야 함 (중복되면 실패)\n- 중복되는 경우 더 많은 컨텍스트(주변 코드)를 포함\n- 들여쓰기(탭/스페이스)를 정확히 맞춰야 함\n- write_file보다 이 도구 사용 권장 (부분 수정에 적합)",
      "input_schema": {
        "type": "object",
        "properties": {
          "file_path": { "type": "string", "description": "파일 경로" },
          "old_string": { "type": "string", "description": "교체할 기존 문자열 (파일 내 고유해야 함)" },
          "new_string": { "type": "string", "description": "새 문자열" }
        },
        "required": ["file_path", "old_string", "new_string"]
      }
    },
    {
      "name": "open_in_browser",
      "description": "URL 또는 파일을 기본 브라우저에서 엽니다.\n\n사용법:\n- 웹 URL: 'https://example.com'\n- 로컬 파일: '/path/to/file.html'\n\n사용 예시:\n- 문서 페이지 열기\n- 생성한 HTML 파일 미리보기\n- API 문서 참조",
      "input_schema": {
        "type": "object",
        "properties": {
          "path": { "type": "string", "description": "URL 또는 파일 경로" }
        },
        "required": ["path"]
      }
    },
    {
      "name": "todo_write",
      "description": "작업 목록을 생성하고 관리합니다. 진행 상황을 추적하고 복잡한 작업을 체계적으로 관리합니다.\n\n## 중요: 유일한 todo 도구\n이 도구가 todo 관련 유일한 도구입니다. todo_update, todo_read, todo_delete 같은 도구는 없습니다.\n- 항목 추가: 기존 목록 + 새 항목으로 전체 목록 작성\n- 상태 변경: 해당 항목의 status만 바꿔서 전체 목록 다시 작성\n- 항목 삭제: 해당 항목 제외하고 전체 목록 다시 작성\n\n## 사용 시점\n다음 상황에서 적극 사용:\n1. 3단계 이상의 복잡한 작업\n2. 사용자가 여러 작업을 요청한 경우\n3. 새 지시를 받았을 때 즉시 할 일 목록 작성\n4. 작업 시작 시 in_progress로 표시\n5. 작업 완료 시 즉시 completed로 표시\n\n## 사용하지 않을 때\n1. 단순한 단일 작업\n2. 3단계 미만의 간단한 작업\n3. 대화/정보 요청\n\n## 상태 관리\n- pending: 대기 중\n- in_progress: 진행 중 (한 번에 하나만)\n- completed: 완료\n\n중요: 작업 완료 즉시 상태 업데이트. 일괄 처리 금지.",
      "input_schema": {
        "type": "object",
        "properties": {
          "todos": {
            "type": "array",
            "description": "작업 목록",
            "items": {
              "type": "object",
              "properties": {
                "content": { "type": "string", "description": "작업 내용 (명령형: '테스트 실행')" },
                "status": { "type": "string", "enum": ["pending", "in_progress", "completed"], "description": "상태" },
                "activeForm": { "type": "string", "description": "진행 중 표시 (현재형: '테스트 실행 중')" }
              },
              "required": ["content", "status", "activeForm"]
            }
          }
        },
        "required": ["todos"]
      }
    },
    {
      "name": "ask_user_question",
      "description": "사용자에게 질문하여 명확한 지시를 받습니다.\n\n## 사용 시점\n1. 사용자 선호도/요구사항 파악\n2. 모호한 지시 명확화\n3. 구현 방식 결정\n4. 여러 옵션 중 선택 필요\n\n## 사용법\n- 2-4개의 선택지 제공\n- 권장 옵션은 첫 번째에 배치하고 '(권장)' 표시\n- multiSelect=true로 복수 선택 허용 가능\n- 사용자는 항상 '기타'로 직접 입력 가능",
      "input_schema": {
        "type": "object",
        "properties": {
          "questions": {
            "type": "array",
            "description": "질문 목록 (1-4개)",
            "items": {
              "type": "object",
              "properties": {
                "question": { "type": "string", "description": "질문 내용" },
                "header": { "type": "string", "description": "짧은 라벨 (최대 12자)" },
                "options": {
                  "type": "array",
                  "description": "선택지 (2-4개)",
                  "items": {
                    "type": "object",
                    "properties": {
                      "label": { "type": "string", "description": "선택지 텍스트" },
                      "description": { "type": "string", "description": "선택지 설명" }
                    },
                    "required": ["label", "description"]
                  }
                },
                "multiSelect": { "type": "boolean", "description": "복수 선택 허용 (기본 false)" }
              },
              "required": ["question", "header", "options"]
            }
          }
        },
        "required": ["questions"]
      }
    },
    {
      "name": "enter_plan_mode",
      "description": "복잡한 구현 작업 전 계획 모드로 전환합니다.\n\n## 사용 시점\n1. 새 기능 구현\n2. 여러 접근 방식이 가능한 경우\n3. 기존 코드 수정\n4. 아키텍처 결정 필요\n5. 다중 파일 변경\n6. 요구사항이 불명확한 경우\n\n## 사용하지 않을 때\n- 단순한 수정 (오타, 명확한 버그)\n- 명확한 요구사항의 단일 함수 추가\n- 순수 조사/탐색 작업\n\n## 계획 모드에서 할 일\n1. glob_files, grep_files, read_file로 코드베이스 탐색\n2. 기존 패턴과 아키텍처 이해\n3. 구현 방안 설계\n4. 사용자 승인 요청 (exit_plan_mode)",
      "input_schema": {
        "type": "object",
        "properties": {}
      }
    },
    {
      "name": "exit_plan_mode",
      "description": "계획 모드를 종료하고 사용자 승인을 요청합니다.\n\n## 사용 전 확인\n- 계획이 완성되었는지 확인\n- 불명확한 점이 있으면 ask_user_question 먼저 사용\n\n## 사용 시점\n- 코드 구현이 필요한 계획이 완료되었을 때\n- 조사/탐색 작업에는 사용하지 않음\n\n중요: '이 계획이 괜찮나요?'를 ask_user_question으로 묻지 말 것 - exit_plan_mode가 그 역할",
      "input_schema": {
        "type": "object",
        "properties": {}
      }
    }
  ]
}
