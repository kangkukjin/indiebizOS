"""
{site_name} 사이트 가이드
========================
Web Collector 사이트 가이드 템플릿.

이 파일은 코드가 아니라 "설정"이다.
AI 에이전트가 browser-action 도구로 이 사이트를 탐색할 때 참조하는 가이드.

사용법:
1. 이 템플릿을 복사하여 sites/{site_id}.py 로 저장
2. SITE_CONFIG 작성 (id, name, url, key_field, fields, guide)
3. guide 필드에 상세한 탐색/추출/해석 지침 작성
"""


SITE_CONFIG = {
    "id": "site_id",                # 파일명과 일치해야 함
    "name": "사이트 이름",
    "url": "https://example.com",   # 시작 URL
    "description": "이 사이트에서 수집하는 정보에 대한 설명",

    # ─── 데이터 스키마 ───
    "key_field": "id",              # 중복 제거용 기본 키 (wc_save 시 이 필드 값으로 구분)
    "fields": {
        # wc_save로 저장할 데이터의 필드 정의
        # AI가 browser-action으로 데이터를 추출한 뒤 이 형식에 맞춰 구조화함
        # "field_name": {"type": "text|number|date", "label": "표시 이름"},
    },

    # ─── 검색 파라미터 ───
    "search_params": {
        # 사용자가 검색 시 지정할 수 있는 파라미터
        # AI가 이 파라미터에 따라 사이트 탐색 방법을 조정
        # "param_name": {"type": "text", "label": "표시 이름"},
    },

    # ─── 가이드 (핵심!) ───
    # AI 에이전트가 이 사이트를 다룰 때 참조하는 모든 지침.
    # 코드 대신 이 텍스트가 사이트 탐색의 근거가 된다.
    "guide": """
    ## 검색 방법
    browser-action 도구로 이 사이트를 탐색하는 단계별 지침.
    1. {url}에 접속
    2. 어디를 클릭하고, 뭘 입력하는지 구체적으로
    3. 검색 버튼 위치
    4. 결과가 나오는 위치

    ## 결과 추출
    결과 페이지에서 데이터를 읽는 방법.
    - 테이블이면: 열 순서, 각 열의 의미
    - 카드형이면: 각 카드에서 추출할 정보
    - browser_get_content 또는 browser_snapshot 중 뭐가 적합한지

    ## 데이터 저장 (wc_save 호출 시)
    - key_field({key_field})는 반드시 포함
    - 각 필드의 정규화 규칙 (예: 가격에서 쉼표/원 제거, 날짜 형식)
    - 빈 값 처리

    ## 데이터 해석
    수집된 데이터를 사용자에게 보고할 때 참고할 맥락.
    - 핵심 지표와 해석법
    - 주의사항 (예: 만료된 데이터, 상태 코드 의미)
    - 사용자에게 강조할 필드

    ## 참고
    - 사이트 특이사항 (로그인 필요 여부, 팝업, iframe 등)
    - 검색 제한 (결과 수 제한, 페이지네이션)
    """
}
