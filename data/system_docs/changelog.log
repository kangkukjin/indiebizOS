[2025-12-31 05:14:29] PROJECT_CREATED: 나의 프로젝트 (ID: 나의 프로젝트)
[2025-12-31 05:38:05] PROJECT_CREATED: 테스트프로젝트 (ID: 테스트프로젝트)
[2025-12-31 05:39:38] PROJECT_CREATED: 임시 (ID: 임시)
[2026-01-02 11:34:39] PROJECT_CREATED: 하드웨어 (ID: 하드웨어)
[2026-01-02 17:30:00] TOOL_ADDED: safe_shell (system_essentials) - 안전한 쉘 명령어 실행 도구
[2026-01-02 17:30:00] TOOL_UPDATED: pc-manager - subprocess 타임아웃 추가, df/du 명령어 사용으로 성능 개선
[2026-01-02 21:31:09] PROJECT_CREATED: 정보 (ID: 정보)
[2026-01-03 19:41:59] PROJECT_RENAMED: 정보 사본 -> 나의 신문사
[2026-01-04 11:44:40] PROJECT_RENAMED: 1 사본 -> Youtube
[2026-01-04 22:33:01] PROJECT_CREATED: 나를 지키는 공간 (ID: 나를 지키는 공간)
[2026-01-06 04:30:00] BUG_FIX: api_agents.py - FastAPI 라우트 순서 수정
  - /projects/{project_id}/agents/role-descriptions 라우트를 {agent_id} 라우트 앞으로 이동
  - 역할 설명 저장 시 [object Object] 오류 해결
[2026-01-06 04:30:00] BUG_FIX: api.ts - API 오류 메시지 처리 개선
  - error.detail이 객체일 때 적절히 문자열로 변환
[2026-01-06 04:45:00] DOCS_UPDATED: system_docs 전체 업데이트
  - architecture.md: 시스템 구조 상세화, 파일 위치 추가
  - overview.md: 에이전트 설정 항목 추가, 현재 상태 갱신
  - technical.md: API 엔드포인트 전체 목록, 라우트 순서 주의사항 추가
  - packages.md: 도구/확장 패키지 분리, 현재 설치 목록 갱신
  - inventory.md: 프로젝트별 에이전트 현황 추가, 휴지통 목록 추가
[2026-01-06 17:14:23] PROJECT_CREATED: 금융투자 (ID: 금융투자)
[2026-01-06 17:14:23] PROJECT_CREATED: 금융투자 (ID: 금융투자)
[2026-01-06 17:14:40] PROJECT_CREATED: 의료 (ID: 의료)
[2026-01-06 17:14:40] PROJECT_CREATED: 의료 (ID: 의료)
[2026-01-06 17:14:58] PROJECT_CREATED: 부동산 (ID: 부동산)
[2026-01-06 17:14:58] PROJECT_CREATED: 부동산 (ID: 부동산)
[2026-01-06 17:15:11] PROJECT_CREATED: 창업 (ID: 창업)
[2026-01-06 17:15:11] PROJECT_CREATED: 창업 (ID: 창업)
[2026-01-06 17:15:23] PROJECT_CREATED: 해외 (ID: 해외)
[2026-01-06 17:15:23] PROJECT_CREATED: 해외 (ID: 해외)
[2026-01-07 09:43:02] PROJECT_RENAMED: 금융투자 -> 자산관리
[2026-01-07 15:34:07] PROJECT_CREATED: 컨설턴트미 (ID: 컨설턴트미)
[2026-01-07 15:34:07] PROJECT_CREATED: 컨설턴트미 (ID: 컨설턴트미)
[2026-01-07 20:09:11] PROJECT_CREATED: 미2 (ID: 미2)
[2026-01-07 20:09:11] PROJECT_CREATED: 미2 (ID: 미2)
[2026-01-08 10:50:34] PROJECT_CREATED: 1+1 (ID: 1+1)
[2026-01-08 10:50:34] PROJECT_CREATED: 1+1 (ID: 1+1)
[2026-01-08 10:58:24] PROJECT_CREATED: 테스트프로젝트 (ID: 테스트프로젝트)
[2026-01-08 10:58:24] PROJECT_CREATED: 테스트프로젝트 (ID: 테스트프로젝트)
[2026-01-08 11:25:16] PROJECT_CREATED: 1+1 (ID: 1+1)
[2026-01-08 11:25:16] PROJECT_CREATED: 1+1 (ID: 1+1)
[2026-01-08 16:30:00] FEATURE_ADDED: 비즈니스 관리 시스템 (kvisual-mcp 통합)
  - business_manager.py: 비즈니스/이웃/메시지 관리 매니저
  - api_business.py: 비즈니스 관련 API 엔드포인트
  - BusinessManager.tsx: 비즈니스 관리 UI
  - NeighborManagerDialog.tsx: 이웃 관리/대화 다이얼로그
[2026-01-08 16:30:00] FEATURE_ADDED: 다중채널 메시지 수신 시스템
  - channel_poller.py: Gmail 폴링 + Nostr 실시간 WebSocket
  - Gmail: 주기적 폴링으로 이메일 수신
  - Nostr: 실시간 WebSocket으로 DM 수신
  - IndieNet identity.json과 키 연동
[2026-01-08 16:30:00] FEATURE_ADDED: 자동응답 서비스
  - auto_response.py: 미응답 메시지 자동 응답 서비스
  - 시스템 AI 설정 재사용 (프로바이더, 모델, API 키)
  - 컨텍스트 기반 응답 생성 (근무지침, 비즈니스 문서, 대화 기록)
  - 무한 루프 방지 (연속 자동응답 5개 초과 시 스킵)
[2026-01-08 16:30:00] UI_UPDATED: 채널 설정 UI 개선
  - SettingsDialog.tsx: Nostr 실시간 설정, nsec 보안 처리
  - Gmail 접두사 필터 제거 (모든 이메일 수신)
[2026-01-08 16:30:00] DOCS_UPDATED: system_docs 전체 업데이트
  - overview.md: 비즈니스/채널/자동응답 기능 추가
  - architecture.md: 비즈니스/채널/자동응답 컴포넌트 추가, 데이터 흐름 다이어그램
  - inventory.md: 확장 패키지 목록, 비즈니스 DB 테이블 추가
  - technical.md: 비즈니스/이웃/메시지/채널/자동응답 API 엔드포인트 추가
[2026-01-08 16:51:52] PROJECT_CREATED: 오락실 (ID: 오락실)
[2026-01-08 16:51:52] PROJECT_CREATED: 오락실 (ID: 오락실)
[2026-01-08 17:45:42] PROJECT_CREATED: 요리사 (ID: 요리사)
[2026-01-08 17:45:42] PROJECT_CREATED: 요리사 (ID: 요리사)
[2026-01-08 21:00:00] FEATURE_ADDED: 위임 체인 시스템 (Delegation Chain System)
  - agent_runner.py: 위임 컨텍스트 복원 로직 추가
    - 보고 메시지 수신 시 delegation_context 자동 복원
    - AI에게 "왜 위임했는지" 컨텍스트 리마인더 주입
  - agent_runner.py: 병렬 위임 수집 모드 추가
    - 2개 이상 위임 시 모든 응답 도착까지 상위 보고 대기
    - pending_delegations 카운터로 대기 중인 위임 추적
    - 통합 보고 형식: [병렬 위임 결과 통합 보고]
  - ai_agent.py: call_agent 위임 컨텍스트 저장 로직 추가
    - delegations 배열로 복수 위임 추적
    - responses 배열로 결과 누적
  - ai_agent.py: get_my_tools 도구 추가
    - 에이전트가 위임 전 자가 처리 가능 여부 판단
  - conversation_db.py: 태스크 테이블 확장
    - delegation_context, parent_task_id, pending_delegations 컬럼
  - thread_context.py: 스레드별 컨텍스트 관리 모듈 추가
  - prompt_generator.py: 위임 체인 및 병렬 위임 가이드 추가
[2026-01-08 21:00:00] DOCS_UPDATED: system_docs 업데이트
  - architecture.md: 위임 체인 시스템 섹션 추가, 에이전트 간 협업 흐름 다이어그램
[2026-01-09 13:05:27] PROJECT_CREATED: 다방 (ID: 다방)
[2026-01-09 13:05:27] PROJECT_CREATED: 다방 (ID: 다방)
[2026-01-09 16:59:52] PROJECT_CREATED: 리리 (ID: 리리)
[2026-01-09 16:59:52] PROJECT_CREATED: 리리 (ID: 리리)
[2026-01-10 01:20:38] PROJECT_CREATED: 12 (ID: 12)
[2026-01-10 01:20:38] PROJECT_CREATED: 12 (ID: 12)
[2026-01-10 09:00:00] FEATURE_ADDED: 다중채팅방 시스템 개선
  - 다중채팅방을 별도 창으로 열기 (프로젝트 창처럼)
  - 전체시작/전체중단 버튼 추가
  - 도구 선택 드롭다운 추가 (에이전트에게 도구 할당)
  - 창 닫을 때 에이전트 자동 비활성화
  - 에이전트 소환 시 원본 AI 설정 유지 (provider, model, api_key)
  - DB 스키마 확장: room_participants에 ai_provider, ai_model, ai_api_key 컬럼 추가
  - 파일: multi_chat_manager.py, multi_chat_db.py, api_multi_chat.py
  - 프론트엔드: MultiChat.tsx, main.js, preload.js, api.ts
[2026-01-10 10:00:00] TOOL_ADDED: search_restaurants (information 패키지)
  - 카카오 로컬 API 기반 맛집/음식점 검색 도구
  - 키워드, 위치, 반경, 정렬 기준 지원
  - 음식점명, 카테고리, 주소, 전화번호, 카카오맵 URL 반환
[2026-01-11 08:32:58] PROJECT_RENAMED: 정보 -> 블로그
[2026-01-11 08:33:10] PROJECT_CREATED: 정보통 (ID: 정보통)
[2026-01-11 08:33:10] PROJECT_CREATED: 정보통 (ID: 정보통)
[2026-01-11 08:33:22] PROJECT_RENAMED: 정보통 -> 정보센터
[2026-01-12 00:00:00] PROMPT_ENGINEERING: 자동응답 프롬프트 개선 (CoT + Few-shot 적용)
  - ai_judgment.py: 4가지 판단 예시 추가, 단계별 사고과정 유도
    - 예시: 서비스 문의, 개인 대화, 구매 문의, 스팸
    - 사고과정: 의도 파악 → 비즈니스 관련성 → 검색 필요
  - auto_response.py: 3가지 응답 예시 추가, 환각 방지 주의사항
    - 예시: 서비스 문의 응답, 물품 구매 응답, 인사 응답
    - 주의사항: "검색 결과에 없는 정보를 지어내지 마세요"
[2026-01-12 00:00:00] TOOL_ADDED: kosis (통계청 KOSIS API)
  - 국가통계포털 데이터 조회 도구
[2026-01-12 00:00:00] TOOL_ADDED: real-estate (부동산 실거래가)
  - 아파트/단독주택 매매/전월세 실거래가 조회
  - 지역코드 조회 기능 포함
[2026-01-12 00:00:00] TOOL_ADDED: startup (창업 지원)
  - K-Startup 공고 조회
  - 중소벤처기업부 지원사업 조회
[2026-01-12 00:00:00] TOOL_MOVED: pc-manager → not_installed
  - 설치된 패키지에서 미설치로 이동
[2026-01-12 00:16:35] PROJECT_CREATED: study (ID: study)
[2026-01-12 00:16:35] PROJECT_CREATED: study (ID: study)
[2026-01-13 20:02:18] PROJECT_CREATED: 사진 (ID: 사진)
[2026-01-13 20:02:18] PROJECT_CREATED: 사진 (ID: 사진)
[2026-01-14 18:06:39] PROJECT_CREATED: indiebiz (ID: indiebiz)
[2026-01-14 18:06:39] PROJECT_CREATED: indiebiz (ID: indiebiz)
[2026-01-22 14:35:00] PROJECT_CREATED: my_space (ID: my_space)
[2026-01-22 14:35:00] TOOL_RESTORED: pc-manager (다시 활성화됨)
[2026-01-22 14:40:00] DOCS_UPDATED: system_docs 최신화
  - inventory.md: 프로젝트 목록(18개) 및 ID 수정
  - packages.md: 업데이트 날짜 갱신
[2026-01-16 00:37:10] PROJECT_RENAMED: Youtube -> 컨텐츠
[2026-01-16 23:35:11] PROJECT_CREATED: 재재 (ID: 재재)
[2026-01-16 23:35:11] PROJECT_CREATED: 재재 (ID: 재재)
[2026-01-18 09:15:25] PROJECT_CREATED: 추천 프로젝트 (ID: 추천 프로젝트)
[2026-01-18 09:15:25] PROJECT_CREATED: 추천 프로젝트 (ID: 추천 프로젝트)
[2026-01-19 11:24:34] PROJECT_RENAMED: 자산관리 -> 투자
[2026-01-20 22:00:00] CLEANUP: rules.json 시스템 제거
  - api_helpers.py에서 rules.json 로딩 코드 삭제
  - 각 프로젝트의 agent_*_rules.json 파일 삭제
  - 에이전트별 규칙은 role 프롬프트로 통합 관리
[2026-01-20 22:30:00] PROMPT_ENGINEERING: XML 구조 통일
  - fragments/06_git.md: 마크다운 → XML 태그로 변환
  - fragments/09_delegation.md: 마크다운 → XML 태그로 변환
  - fragments/10_system_ai_delegation.md: 마크다운 → XML 태그로 변환
  - providers/*.py: 히스토리 메시지에 XML 태그 추가
    - <user_message>, <assistant_message>, <current_user_request>
  - auto_response.py: 응답 프롬프트 XML 구조화
  - ai_judgment.py: 판단 프롬프트 XML 구조화
[2026-01-20 22:30:00] FEATURE_UPDATED: 시스템 AI git 조건부 프롬프트
  - prompt_builder.py: build_system_ai_prompt()에 git_enabled 파라미터 추가
  - api_system_ai.py: Git 활성화 조건 감지 로직 추가
  - system_ai_runner.py: Git 활성화 조건 감지 로직 추가
  - 불필요한 role 파라미터 제거, system_ai_role.txt에서 항상 로드
[2026-01-20 23:00:00] TOOL_UPDATED: visualization 패키지 도구 설명 개선
  - line_chart: 범용적이고 간결한 설명으로 변경
  - bar_chart: 간결한 설명으로 변경
  - candlestick_chart: 간결한 설명으로 변경
  - pie_chart: 간결한 설명으로 변경
  - scatter_plot: 간결한 설명으로 변경
  - heatmap: 간결한 설명으로 변경
  - multi_chart: 간결한 설명으로 변경
  - 모든 설명: 한줄 요약 + 데이터 형식 + 예시 구조로 통일
[2026-01-20 23:30:00] DOCS_UPDATED: system_docs 전체 업데이트
  - communication.md: 통신 채널 시스템 문서 신규 생성
    - Gmail/Nostr 채널, IndieNet 연동, 자동응답 흐름
  - packages.md: 도구 패키지 19개 목록 갱신, 도구 설명 가이드 추가
  - inventory.md: 프로젝트 16개, 시스템 AI 위임 기능 섹션 추가
  - overview.md: 시스템 AI 위임, 통신 채널 링크 추가
  - technical.md: 프롬프트 XML 구조 섹션 추가
  - auto_response.md: XML 구조 섹션 추가
[2026-01-21 10:00:00] FEATURE_UPDATED: 자동응답 시스템 V3 (Tool Use 통합)
  - auto_response.py: 2단계 AI 호출 → 1단계 Tool Use 방식으로 통합
  - 도구: search_business_items, no_response_needed, send_response
  - send_response: 응답 즉시 발송 (polling 대기 없음)
  - channel_poller.py: _execute_system_ai에서 실제 시스템 AI 호출
  - base_prompt_autoresponse.md: Tool Use 지침 프롬프트 추가
[2026-01-21 10:30:00] TOOL_ADDED: system_essentials 이웃 조회 도구
  - get_neighbors: 이웃 목록 조회 (검색, 레벨 필터)
  - get_neighbor_detail: 특정 이웃 상세 정보 (연락처, 메시지 포함)
[2026-01-21 11:00:00] DOCS_UPDATED: system_docs 업데이트
  - auto_response.md: V3 Tool Use 방식으로 전면 개정
  - inventory.md: system_essentials 도구 설명 갱신, 자동응답 V3 반영
[2026-01-21 23:00:00] TOOL_UPDATED: media_producer 대규모 업데이트
  - 2025-2026 디자인 트렌드 기반 8개 신규 템플릿 추가
    - title_bold: 대형 타이포그래피 (120px 제목)
    - dark_tech: 다크모드 + 네온 강조
    - glassmorphism: 유리 효과 (backdrop-filter)
    - gradient_modern: 그라데이션 배경
    - split_asymmetric: 비대칭 분할 레이아웃
    - minimal_white: 미니멀 화이트
    - image_fullscreen: 전체 배경 이미지 + 오버레이
    - data_card: 데이터/숫자 강조 카드
  - 폰트 시스템 개선: 시스템 폰트 우선 사용 (Apple SD Gothic Neo, Malgun Gothic)
  - create_video: 이미지 자동 리사이즈 로직 추가 (잘림 현상 해결)
  - create_video: width/height 옵션 추가 (비디오 크기 지정)
  - tool.json: 테마 목록 및 테마별 추가 옵션 반영
[2026-01-22 10:30:47] PROJECT_CREATED: 구매 (ID: 구매)
[2026-01-22 10:30:47] PROJECT_CREATED: 구매 (ID: 구매)
[2026-01-22 14:00:00] FEATURE_ADDED: 도구 상자 패키지 공유 시스템 (Nostr)
  - api_packages.py: AI 기반 설치 방법 자동 생성 기능
    - 패키지 전체 분석 (tool.json, handler.py, requirements.txt, package.json)
    - Anthropic, OpenAI, Google Gemini API 지원
    - 다른 AI 개발자가 같은 기능을 구현할 수 있는 정보 생성
  - channels/nostr.py: 패키지 공개/검색 기능
    - publish_package_to_nostr: #indiebizOS-package 해시태그로 공개
    - search_packages_on_nostr: 공개된 패키지 검색
  - ToolSearchDialog.tsx: 패키지 검색 UI 신규
  - ToolboxDialog.tsx: "Nostr에 공개", "도구 검색" 버튼 추가
[2026-01-22 14:30:00] TOOL_ADDED: shopping-assistant (상품 검색)
  - 네이버 쇼핑 API 기반 상품 검색
  - 다나와 크롤링 기반 가격 비교
  - 지원 사이트: naver, danawa, all
[2026-01-22 15:00:00] DOCS_UPDATED: 문서 전체 업데이트
  - GUIDE.md: 도구 패키지 공유 (Nostr) 섹션 추가
  - GUIDE_EN.md: Sharing Tool Packages (Nostr) 섹션 추가
  - README.md: Toolbox & Package Sharing 섹션, shopping-assistant 추가
  - README.ko.md: 도구 상자 & 패키지 공유 섹션 추가
  - system_docs/packages.md: 패키지 공유 기능, API 엔드포인트 추가
  - system_docs/inventory.md: 도구 패키지 20개, 프로젝트 목록 갱신
[2026-01-24 07:31:40] PROJECT_CREATED: 비판 (ID: 비판)
[2026-01-24 07:31:40] PROJECT_CREATED: 비판 (ID: 비판)
[2026-01-26 21:00:00] HOMEPAGE_UPDATED: indiebiz-homepage 개선
  - 에이전트 협업 (Collaboration) 섹션 신규 추가
    - 위임 체인 설명: 단일/순차/병렬 위임
    - 자동 보고, 컨텍스트 유지, 병렬 처리 기능 소개
  - 다중채팅방 기능 소개 추가 (Expert Network 섹션)
    - 여러 에이전트가 한 방에서 협업하는 기능
  - 자동응답 V3 업데이트 반영
    - Tool Use 기반 통합 처리, DB 검색, 즉시 발송
  - 비교 테이블 보강
    - "다중 에이전트 채팅", "스트리밍 응답" 행 추가
  - FAQ 업데이트
    - 설치 안내: Windows/macOS 설치 파일에 Python/Node.js 포함
  - 네비게이션에 Collaboration 링크 추가
  - Footer 글자 색상 가독성 개선
  - Homepage 링크 변경: kangkukjin.vercel.app
  - 배포: https://indiebiz-homepage.vercel.app
[2026-01-26 21:00:00] DOCS_UPDATED: system_docs 업데이트
  - overview.md: V3 반영, 위임 체인 링크 추가, 통계 갱신
  - inventory.md: 도구 패키지 21개로 수정
[2026-01-31 09:18:41] PROJECT_CREATED: 페르소나 (ID: 페르소나)
[2026-01-31 09:18:41] PROJECT_CREATED: 페르소나 (ID: 페르소나)
[2026-01-31 23:00:00] DOCS_UPDATED: system_docs 전체 업데이트
  - overview.md: 시스템 통계 갱신 (프로젝트 16개, 도구 25개)
  - architecture.md: API 라우터 18개로 수정, 도구 25개/프로젝트 16개, 자동응답 V3 반영, 가이드 파일 시스템 링크 추가
  - packages.md: 설치된 도구 패키지 25개로 갱신 (신규: browser-action, business, legal, location-services, remotion-video, web-builder / 삭제: information, read-and-see)
  - technical.md: 자동응답 V3 반영, 도구 25개/프로젝트 16개 수정
  - inventory.md: 프로젝트 16개 (법률 추가), 도구 패키지 25개로 전면 갱신
  - communication.md: API 호출 비용 V3 반영
[2026-01-31 23:30:36] PROJECT_CREATED: 음악 (ID: 음악)
[2026-01-31 23:30:36] PROJECT_CREATED: 음악 (ID: 음악)
[2026-02-04 23:10:40] PROJECT_CREATED: 에이전트 출판 (ID: 에이전트 출판)
[2026-02-04 23:10:40] PROJECT_CREATED: 에이전트 출판 (ID: 에이전트 출판)
[2026-02-05 15:33:03] PROJECT_CREATED: CCTV (ID: CCTV)
[2026-02-05 15:33:03] PROJECT_CREATED: CCTV (ID: CCTV)
[2026-02-09 18:30:00] PACKAGE_ADDED: radio - 인터넷 라디오 검색 및 재생 도구
  - Radio Browser API로 전세계 라디오 검색 (한국 88개 포함)
  - 한국 주요 방송사 직접 API 연동 (KBS/MBC/SBS/TBS/CBS/EBS 15개 채널)
  - mpv 기반 PC 스피커 재생/중지/볼륨 조절
  - 즐겨찾기 관리 기능
  - 도구 9개: search_radio, get_korean_radio, play_radio, stop_radio, radio_status, set_radio_volume, get_radio_favorites, save_radio_favorite, remove_radio_favorite
[2026-02-09 18:30:00] DOCS_UPDATED: 시스템 문서 업데이트
  - inventory.md: 도구 패키지 29개로 갱신 (신규: cctv, radio)
  - packages.md: 도구 패키지 29개로 갱신
  - INSTALL_DEPENDENCIES.md: requirements-core.txt와 일치하도록 정리
  - CLAUDE.md: 라디오 패키지 추가, 패키지 수 업데이트
[2026-02-12 09:19:30] PROJECT_CREATED: Hand on PC (ID: Hand on PC)
[2026-02-12 09:19:30] PROJECT_CREATED: Hand on PC (ID: Hand on PC)
[2026-02-13 07:51:35] PROJECT_RENAMED: 에이전트 출판 -> 웹앱
[2026-02-14 11:27:40] PROJECT_CREATED: 지역정보 (ID: 지역정보)
[2026-02-14 11:27:40] PROJECT_CREATED: 지역정보 (ID: 지역정보)
[2026-02-15 04:15:08] PROJECT_CREATED: 건축 (ID: 건축)
[2026-02-15 04:15:08] PROJECT_CREATED: 건축 (ID: 건축)
[2026-02-17 00:00:00] PHASE_16: IBL 통합 - 프론트엔드 정리
  - Manager.tsx: 미사용 도구 관련 코드 제거 (ToolAIDialog, tools state 등)
  - SettingsDialog.tsx: 탭 이름 "도구" → "노드"로 변경
  - dialogs/index.ts: ToolAIDialog export 제거
[2026-02-18 00:00:00] PHASE_17: IBL 완전 통합 - 시스템 AI + 사용자 노드
  - 설계 원칙: "사용자도 하나의 노드", "시스템 AI도 프로젝트 AI와 동일 구조"
  - ibl_nodes.yaml: user 노드 추가 (ask, approve, todo, notify), system 노드에 시스템AI 전용 액션 추가
  - system_tools.py: execute_ask_user_question(), execute_todo_write() 함수 추가
  - ibl_engine.py: _route_system()에 user 노드 + 시스템AI 라우팅 추가
  - agent_runner.py: _get_available_tools() → execute_ibl만 반환 (ask_user_question, todo_write 등 제거)
  - ibl_access.py: _ALWAYS_ALLOWED에 "user" 추가
  - system_ai_runner.py: 패키지 기반 130+ 도구 → execute_ibl 단일 도구로 전환
  - prompt_builder.py: build_system_ai_prompt()에 IBL 환경 주입 (build_environment(None))
  - api_system_ai.py: get_all_system_ai_tools() → execute_ibl 스키마만 반환, execute_system_tool() → IBL 경로 통일
  - api_websocket.py: todo_write 감지를 execute_ibl 경유 시에도 동작하도록 확장
  - tool_loader.py: load_tool_schema() 함수 추가
[2026-02-18 00:30:00] DOCS_UPDATED: Phase 17 시스템 문서 전체 업데이트
  - architecture.md: IBL 완전 통합 아키텍처 반영, execute_ibl 단일 도구 구조
  - ibl.md: user 노드 섹션 추가, 시스템 AI IBL 통합 섹션 추가, 27개 노드
  - overview.md: IBL 통합 아키텍처 반영, 위임 IBL 액션 업데이트
  - technical.md: 에이전트 기본 도구 → IBL 도구 아키텍처로 재구성
  - delegation.md: IBL 경로 통합 반영
  - inventory.md: 위임 도구 → IBL 액션으로 업데이트
[2026-02-19 00:00:00] PHASE_22: 6-Node 최종 통합 (10→6 노드)
  - 4단계 통합 실행:
    - Step 1: youtube + radio → stream (18 액션)
    - Step 2: browser + android + desktop → interface (79 액션)
    - Step 3: informant + librarian → source (105 액션)
    - Step 4: orchestrator → system, creator → forge (이름 변경)
  - ibl_nodes.yaml: 10개 노드 섹션 → 6개 노드 섹션으로 재구성
  - ibl_access.py: _ALWAYS_ALLOWED → {"system"}, _MERGED_TO_* 매핑 추가, 역호환 체인 유지
  - tool_selector.py: INFRA_NODES → {"system"}, 프롬프트 텍스트 업데이트
  - api_packages.py: always_allowed → {"system"}
  - migrate_nodes.py: 신규 생성 — agents.yaml 자동 변환 스크립트
  - 전체 프로젝트 agents.yaml 마이그레이션 완료 (allowed_nodes 치환)
  - 변경 불필요: ibl_engine.py, ibl_parser.py, node_registry.py, 35개 handler.py, 프론트엔드
  - 최종 구조: source(105), interface(79), system(64), forge(46), stream(18), messenger(9) = 321 액션
[2026-02-19 00:30:00] DOCS_UPDATED: Phase 22 시스템 문서 전체 업데이트
  - overview.md: 6-Node 통합 반영, system 노드 위임 액션 업데이트
  - architecture.md: Phase 22 아키텍처, 6개 노드 구조 반영
  - technical.md: IBL 노드 액션 테이블 6-Node로 업데이트
  - ibl.md: 전체 재작성 — 6개 노드 상세 설명, 모든 예시 업데이트
  - inventory.md: 위임 액션 orchestrator → system 업데이트
  - ibl_development_plan.md: Phase 22 섹션 추가, 실행 우선순위 업데이트
[2026-02-20 00:00:00] PHASE_22_STABILIZE: Phase 22 후속 안정화 (4건)
  1. ibl_nodes.yaml: meta.constraint 추가 — IBL 언어 자체에 노드 제약조건 선언
     (AI가 존재하지 않는 구 노드명을 사용하는 문제 방지, 모든 프로바이더 공통)
  2. ibl_access.py: How to Use를 Mode 1(Direct) / Mode 2(Code)로 분리
     (code 모드에서 params={} 문법 대신 {key: value} 문법 사용 안내)
  3. frontend/electron/main.js: 기존 서버 재사용으로 변경
     (start.sh와 Electron 동시 시작 시 서버 충돌 → 포트 사용 중이면 기존 서버 사용)
  4. ibl_nodes.yaml: meta 섹션에 usage, pipeline, principles 추가
     ibl_access.py: build_environment()가 YAML meta에서 동적 로드
     (IBL 언어 정의를 Python 코드와 분리 — "언어설명은 언어 부분에서")
[2026-02-20 01:00:00] IBL_BUG_FIX: 파이프라인 & 파서 핵심 버그 2건 수정
  1. workflow_engine.py: 파이프라인 >> 자동 데이터 전달 구현
     - _auto_inject_prev() 함수 신규: prev_result를 다음 step의 params._prev_result로 자동 주입
     - _has_prev_ref() 함수 신규: {{_prev_result}} 명시 참조 확인
     - execute_pipeline(), _execute_parallel(), _execute_fallback() 모두 적용
     - 기존 {{_prev_result}} 명시 참조 방식도 하위 호환 유지
     (이전: step 2가 step 1 결과를 받으려면 {{_prev_result}} 필수 → AI가 모르면 데이터 유실)
     (이후: 자동으로 params._prev_result에 주입, 명시 참조 없어도 데이터 전달)
  2. ibl_parser.py: _parse_relaxed_params() 완전 재작성 — 중첩 구조 지원
     - 기존 정규식(스칼라만) → 토크나이저 방식(배열/객체/중첩 지원)
     - _extract_value(), _extract_string(), _extract_bracket(), _extract_number(), _extract_unquoted() 신규
     - {data: [1, 2, 3]}, {items: [{name: "A"}, {name: "B"}]}, {nested: {a: 1}} 모두 파싱 가능
     (이전: {data: [{...}]} → "파싱 실패: data: [" 에러)
     (이후: 배열, 중첩 객체, 혼합 타입 모두 정상 파싱)
[2026-02-20 02:00:00] IBL_FIX: stream 노드 verb default 제거 — API 낭비 방지
  1. ibl_nodes.yaml: stream verbs에서 모든 default 키 삭제
     - play, stop, search, get, control 5개 verb 전부
     - routes에 youtube/radio 양쪽 명시 (기존: 한쪽만 default)
     - search verb: youtube → play, radio → search_radio, korean → korean
     (문제: default가 있으면 반대편 호출 시 항상 1회 API 낭비)
     (해결: source 노드처럼 직접 액션명 호출 또는 type 지정 필수)
  2. ibl_nodes.yaml: download 액션 description에 output_path 파라미터 명시
     (문제: handler는 output_path 지원하나 AI가 모름 → 항상 output.mp3로 저장)
     (해결: description에 "output_path로 저장 경로/파일명 지정 가능" 추가)
[2026-02-20 03:00:00] STREAM_FIX: search_youtube 원자적 액션 추가 — 복합 액션 분리
  1. tool_youtube.py: search_youtube() 함수 신규 추가
     - play_youtube()의 검색 로직(yt-dlp ytsearch)을 분리한 순수 검색 함수
     - 반환: {success, count, results: [{video_id, title, channel, duration, url}, ...]}
     - 재생하지 않고 결과 목록만 반환 → 파이프라인 연결 가능
  2. handler.py: search_youtube 라우팅 추가
  3. ibl_nodes.yaml: search_youtube 액션 등록, search verb youtube 라우트 변경
     - search verb: youtube → search_youtube (기존: play → 검색+재생 복합)
     (문제: 유튜브에 검색 전용 액션이 없었음 — play가 검색+재생 복합)
     (문제: download는 URL만 받아서 "검색→다운로드" 워크플로우 불가)
     (해결: search_youtube로 검색 → 결과의 URL로 download/play/transcript 연결)
     (비교: 라디오는 이미 search_radio + radio_play로 분리되어 있었음)
  4. tool.json: search_youtube 도구 정의 등록 (근본 원인 수정)
     - tool_loader.py가 tool.json에서 tool_name → package_id 매핑을 빌드
     - search_youtube가 tool.json에 없으면 load_tool_handler() → None → "도구 핸들러를 찾을 수 없습니다"
     - tool.json에 search_youtube 도구 정의 추가 → 정상 라우팅
  5. handler.py: download_youtube_music 파일명 파라미터 다중 이름 지원
     - 기존: arguments.get('output_path')만 확인
     - 변경: output_path → filename → path → file → name 순서 폴백
     (문제: AI가 filename, path 등 다양한 이름으로 전달 → 항상 output.mp3)
     (해결: 다중 이름 폴백 체인으로 AI 출력 유연 수용)
[2026-02-20 05:00:00] IBL_FIX: build_environment() verb-only 버그 수정 — 숨겨진 액션 노출
  - ibl_access.py: verbs가 있는 노드에서 verb 테이블만 표시 → 액션 테이블 누락 수정
  - 기존: verbs 정의된 노드 → verb 테이블만 → verb routes에 없는 액션은 AI에게 invisible
  - 변경: Verbs (shortcut) + Direct actions (verb 미커버 액션) 양쪽 모두 표시
  - 영향: system 52개, interface 34개, source 24개, forge 19개, stream 2개, messenger 1개 액션 복원
  (문제: 시스템 AI가 run_command, exec_python, read, write 등 핵심 액션 존재를 모름)
  (문제: "프로세스 죽여줘" 요청에 쉘 명령 실행 불가 — run_command가 invisible)
  (해결: verb 미커버 액션도 Direct actions 테이블로 표시, ~2300 토큰으로 적정 크기)
[2026-02-20 06:00:00] IBL_FIX: 환경 프롬프트 마크다운 → XML 구조 전환
  - ibl_access.py: build_environment() 출력 형식 전면 변경
  - 기존: <ibl_executor> 바깥껍데기만 XML, 안은 마크다운 (# 헤더, | 테이블 |)
  - 변경: 순수 XML 중첩 구조 (<nodes> → <node> → <verbs>/<actions> → <verb>/<action>)
  - Anthropic 공식 가이드: Claude는 XML 태그를 프롬프트 구조 인식 메커니즘으로 훈련됨
  - 마크다운 테이블은 길어지면 뒤쪽 행을 경시, XML은 닫는 태그까지 하나의 단위로 인식
  - 토큰: ~2300 (마크다운, 128개 액션 누락) → ~3300 (XML, 전체 액션 표시)
  - 실질 증가분은 숨겨진 128개 액션 노출 때문이지 XML 전환 자체가 아님
[2026-02-20 07:00:00] IBL_FEATURE: agent_ask_sync — 동기 에이전트 호출 (파이프라인용)
  - ibl_engine.py: _agent_ask_sync() 함수 추가
    - 대상 에이전트의 설정(agents.yaml)을 로드하여 임시 AI 에이전트 생성
    - process_message_with_history()로 동기 호출 — 응답 완료까지 대기
    - _prev_result 자동 첨부 (파이프라인에서 이전 step 결과 전달)
    - switch_runner.py와 동일한 패턴 (AI 에이전트 생성 → 동기 처리 → 결과 반환)
  - ibl_nodes.yaml: agent_ask_sync 액션 등록
  - kinsight.yaml: 예시 워크플로우 생성
    - [source:search]("최근 글") >> [system:agent_ask_sync]("컨텐츠/컨텐츠") >> [system:file]
    (기존 agent_ask는 비동기 — 큐에 넣고 즉시 반환 → 파이프라인에서 결과 없음)
    (agent_ask_sync는 동기 — 응답 완료까지 대기 → 파이프라인 다음 step으로 전달)
[2026-02-23 00:00:00] NEW_FEATURE: IBL 용례 RAG 시스템
  - ibl_usage_db.py: 용례 사전 DB + 하이브리드 검색 (시맨틱 70% + BM25 30%)
    - jhgan/ko-sroberta-multitask 768차원 임베딩, sqlite-vec 벡터 인덱스
    - 용례 ~970개 (합성 965 + 실행 로그 자동 승격)
    - 서버 시작 시 백그라운드 모델 로딩 (비동기, 블로킹 없음)
  - ibl_usage_rag.py: RAG 참조 모듈
    - 사용자 메시지 수신 시 유사 용례 3개 검색 → XML로 프롬프트 주입
    - 캐시 TTL 5분, 최소 점수 0.25 필터링
  - ibl_usage_generator.py: 합성 데이터 생성기 (Stage 1+2+3)
  - 실행 로그 자동 승격: try_promote_session() — 에이전트 대화 완료 후 성공 로그를 용례로 변환
  - api_websocket.py: 스트리밍/비스트리밍 양 경로에 자동 승격 호출 연동
  - 실측 효과: 에이전트 라운드 수 13회 → 3회 (부동산 실거래가 조회)
  → 문서: system_docs/ibl_rag.md
[2026-02-24 07:48:11] PROJECT_CREATED: 학교 (ID: 학교)
[2026-02-24 07:48:11] PROJECT_CREATED: 학교 (ID: 학교)
